(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{466:function(e,t,a){"use strict";a.r(t);var n=a(49),l=a(50),r=a(52),i=a(51),u=a(53),s=a(0),o=a.n(s),c=a(17),m=a(35),p=a(36),d=a(54),b=a(376),h=a.n(b),E=function(e){function t(){var e,a;Object(n.a)(this,t);for(var l=arguments.length,u=new Array(l),s=0;s<l;s++)u[s]=arguments[s];return(a=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(u)))).state={image:"",username:"",bio:"",email:"",password:"",errors:{}},a.submitHandle=function(e){var t=a.props.authActions,n=a.state,l=n.image,r=n.username,i=n.bio,u=n.email,s=n.password;if(a.setState(Object(p.a)(function(e){e.errors={}})),a.validate()){var o={image:l,username:r,bio:i,email:u};""!==s&&(o.password=s),t.update({user:o}).then(function(e){a.props.history.goBack()})}e.preventDefault()},a.changeInput=function(e){return function(t){var n=t.target.value;a.setState(Object(p.a)(function(t){t[e]=n}))}},a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.userInfo;Object.keys(e).length&&this.setState(Object(p.a)(function(t){t.image=e.image,t.username=e.username,t.bio=e.bio,t.email=e.email}))}},{key:"componentWillUnmount",value:function(){this.props.authActions.resetAuth()}},{key:"validate",value:function(){var e={},t=this.state,a=t.username,n=t.email,l=t.password;return h.a.isEmpty(a)?e.username="\uc0ac\uc6a9\uc790 \uc774\ub984\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694":h.a.isLength(a,{min:1,max:20})||(e.username="\uc0ac\uc6a9\uc790 \uc774\ub984\uc740 1\uc790 \uc774\uc0c1 20\uc790 \uc774\ud558\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694"),h.a.isEmpty(n)?e.email="\uc774\uba54\uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694":h.a.isEmail(n)||(e.email="\uc774\uba54\uc77c \ud615\uc2dd\uc774 \ub9de\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4"),h.a.isEmpty(l)||h.a.isLength(l,{min:8})||(e.password="\ube44\ubc00\ubc88\ud638\ub294 8\uc790 \uc774\uc0c1\uc73c\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694"),0===Object.keys(e).length||(this.setState(Object(p.a)(function(t){t.errors=e})),!1)}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.history,n=e.error,l=this.state,r=l.image,i=l.username,u=l.bio,s=l.email,c=l.password,m=l.errors;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"container"},o.a.createElement("h2",null,"\ud504\ub85c\ud544 \uc218\uc815"),o.a.createElement("form",{onSubmit:this.submitHandle},o.a.createElement("fieldset",null,o.a.createElement("div",null,o.a.createElement("label",null,"\ud504\ub85c\ud544 \uc774\ubbf8\uc9c0",o.a.createElement("br",null),o.a.createElement("input",{type:"text",disabled:t,value:r,onChange:this.changeInput("image")})),m.image&&o.a.createElement("div",null,m.image)),o.a.createElement("div",null,o.a.createElement("label",null,"\uc0ac\uc6a9\uc790 \uc774\ub984",o.a.createElement("br",null),o.a.createElement("input",{type:"text",disabled:t,value:i,onChange:this.changeInput("username")})),m.username&&o.a.createElement("div",null,m.username)),o.a.createElement("div",null,o.a.createElement("label",null,"\uc18c\uac1c",o.a.createElement("br",null),o.a.createElement("textarea",{cols:"60",rows:"10",disabled:t,value:u,onChange:this.changeInput("bio")})),m.bio&&o.a.createElement("div",null,m.bio)),o.a.createElement("div",null,o.a.createElement("label",null,"\uc774\uba54\uc77c",o.a.createElement("br",null),o.a.createElement("input",{type:"text",disabled:t,value:s,onChange:this.changeInput("email")})),m.email&&o.a.createElement("div",null,m.email)),o.a.createElement("div",null,o.a.createElement("label",null,"\uc0c8 \ube44\ubc00\ubc88\ud638",o.a.createElement("br",null),o.a.createElement("input",{type:"password",disabled:t,value:c,onChange:this.changeInput("password")})),m.password&&o.a.createElement("div",null,m.password)),t&&o.a.createElement("div",null,"\uc800\uc7a5\ud558\ub294 \uc911..."),n.length>0&&n.map(function(e){return o.a.createElement("div",{key:e},e)}),o.a.createElement("button",{type:"submit",disabled:t},"\uc218\uc815")," ",o.a.createElement("button",{type:"button",disabled:t,onClick:a.goBack},"\ucde8\uc18c")))))}}]),t}(s.Component);t.default=Object(m.b)(function(e){return{user:e.auth.user,userInfo:e.auth.userInfo,loading:e.auth.loading,error:e.auth.error}},function(e){return{authActions:Object(c.b)(d,e)}})(E)}}]);