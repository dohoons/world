(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{357:function(n,e,t){"use strict";var a=t(1),r=t.n(a),o=t(370),i=t(109);function c(){var n=Object(i.a)(["\n  display: inline-block;\n\n  .link {\n    display: flex;\n    align-items: center;\n    color: #000;\n    text-decoration: none;\n\n    &:hover,\n    &:focus {\n      .name {\n        text-decoration: underline;\n      }\n    }\n  }\n\n  p {\n    margin: 0;\n  }\n\n  .img {\n    flex-shrink: 0;\n    width: 32px;\n    height: 32px;\n    margin-right: 10px;\n    border-radius: 16px;\n    background: #ccc;\n  }\n\n  .con {\n    flex: 1;\n  }\n\n  .name {\n    margin: 0;\n    font-size: 14px;\n  }\n\n  .date {\n    margin: 0;\n    font-size: 11px;\n  }\n"]);return c=function(){return n},n}var s=t(110).a.div(c());e.a=function(n){return r.a.createElement(s,null,r.a.createElement(o.a,{to:"/@".concat(n.username),className:"link"},r.a.createElement("img",{src:n.image,alt:"",className:"img"}),r.a.createElement("div",{className:"con"},r.a.createElement("p",{className:"name"},n.username),r.a.createElement("p",{className:"date"},new Date(n.createdAt).toDateString()))))}},358:function(n,e,t){"use strict";var a=t(353),r=t.n(a),o=t(354),i=t(48),c=t(49),s=t(51),l=t(50),u=t(52),p=t(1),m=t.n(p),f=t(370),g=t(33),d=t(111),h=t(36),v=t(357),b=t(359),x=t.n(b),w=t(109),y=t(110);function j(){var n=Object(w.a)(["\n  .pagination {\n    display: flex;\n    justify-content: center;\n    padding: 0;\n  }\n\n  li {\n    margin: 5px;\n    list-style: none;\n  }\n\n  .active {\n    font-weight: bold;\n    color: red;\n  }\n"]);return j=function(){return n},n}var k=y.a.div(j()),E=function(n){var e=n.page,t=void 0===e?1:e,a=n.total,r=void 0===a?1:a,o=n.onChange,i=void 0===o?function(){}:o,c=n.countPerPage,s=void 0===c?10:c,l=n.pageLen,u=void 0===l?5:l;return m.a.createElement(k,null,m.a.createElement(x.a,{activePage:t,totalItemsCount:r,onChange:i,itemsCountPerPage:s,pageRangeDisplayed:u,innerClass:"pagination",activeLinkClass:"active",firstPageText:"\ucc98\uc74c",prevPageText:"\uc774\uc804",nextPageText:"\ub2e4\uc74c",lastPageText:"\ub9c8\uc9c0\ub9c9"}))};function O(){var n=Object(w.a)(["\n  padding: 0;\n  border-bottom: 1px solid #ddd;\n\n  p {\n    margin: 0;\n  }\n\n  .article-item {\n    list-style: none;\n    padding: 15px 25px;\n    border-top: 1px solid #ddd;\n\n    &:not(:first-child) {\n      margin-top: 10px;\n    }\n\n    .title {\n      font-weight: bold;\n      font-size: 24px;\n      color: #333;\n\n      a {\n        color: inherit;\n        text-decoration: none;\n\n        &:hover,\n        &:focus {\n          text-decoration: underline;\n        }\n      }\n    }\n\n    .info {\n      text-align: right;\n      font-size: 12px;\n      color: #999;\n    }\n  }\n"]);return O=function(){return n},n}var P=y.a.ul(O()),C=function(n){function e(){var n,t;Object(i.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(t=Object(s.a)(this,(n=Object(l.a)(e)).call.apply(n,[this].concat(r)))).state={loading:!0,articlesCount:0,articles:[],page:1},t}return Object(u.a)(e,n),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.initialize(parseInt(this.props.page))}},{key:"componentDidUpdate",value:function(n){n.page!==this.props.page&&this.initialize(parseInt(this.props.page))}},{key:"componentWillUnmount",value:function(){this.source.cancel()}},{key:"initialize",value:function(){var n=Object(o.a)(r.a.mark(function n(){var e,t,a,o,i=arguments;return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:1,n.prev=1,this.setState(Object(d.a)(function(n){n.page=e})),t=this.props.username,this.source=h.a.CancelToken.source(),n.next=7,h.a.Articles[t?"byAuthor":"all"]({author:t,page:e-1,source:this.source});case 7:a=n.sent,o=a.data,this.setState(Object(d.a)(function(n){n.loading=!1,n.articlesCount=o.articlesCount,n.articles=o.articles})),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),console.log(n.t0);case 15:case"end":return n.stop()}},n,this,[[1,12]])}));return function(){return n.apply(this,arguments)}}()},{key:"render",value:function(){var n=this.props,e=n.useTotal,t=n.countPerPage,a=n.handlePageChange,r=this.state,o=r.loading,i=r.articlesCount,c=r.articles,s=r.page;if(o)return m.a.createElement("div",null,"Loading...");var l=Math.ceil(i/t);return m.a.createElement(m.a.Fragment,null,e&&m.a.createElement("p",null,s," / ",l),m.a.createElement(P,null,c.map(function(n){return m.a.createElement("li",{key:n.slug,className:"article-item"},m.a.createElement(v.a,{image:n.author.image,username:n.author.username,createdAt:n.createdAt}),m.a.createElement("p",{className:"title"},m.a.createElement(f.a,{to:"/article/".concat(n.slug)},n.title)),m.a.createElement("p",{className:"desc"},n.description),m.a.createElement("div",{className:"info"},m.a.createElement("span",{className:"tag"},"Tag: ",n.tagList.join(", "))))})),m.a.createElement(E,{page:s,total:i,onChange:a,countPerPage:t}))}}]),e}(p.Component);C.defaultProps={page:1,countPerPage:10};e.a=Object(g.b)(function(n){return{user:n.auth.user,userInfo:n.auth.userInfo}},function(n){return{}})(C)},378:function(n,e,t){"use strict";t.r(e);var a=t(48),r=t(49),o=t(51),i=t(50),c=t(52),s=t(1),l=t.n(s),u=t(353),p=t.n(u),m=t(354),f=t(33),g=t(111),d=t(36),h=t(150),v=t(109);function b(){var n=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 50px 20px 30px;\n  background: #ebedee;\n\n  p {\n    margin: 0;\n  }\n\n  .img {\n    width: 110px;\n    height: 110px;\n    margin-bottom: 10px;\n    border-radius: 55px;\n    background: #ccc;\n  }\n\n  .username {\n    margin: 0;\n    font-weight: bold;\n    font-size: 26px;\n    color: #222;\n  }\n\n  .bio {\n    margin-top: 10px;\n    font-size: 14px;\n    color: #999;\n  }\n\n  .action {\n    width: 100%;\n    margin-top: 20px;\n    padding-top: 20px;\n    text-align: center;\n    border-top: 1px solid #ccc;\n\n    button {\n      padding: 10px 20px;\n    }\n  }\n"]);return b=function(){return n},n}var x=t(110).a.div(b()),w=function(n){function e(){var n,t;Object(a.a)(this,e);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(t=Object(o.a)(this,(n=Object(i.a)(e)).call.apply(n,[this].concat(c)))).state={loading:!0,profile:null},t.followAction=function(){var n=Object(m.a)(p.a.mark(function n(e){var a,r,o,i;return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(a=t.props.user,r=t.state.profile.username,a){n.next=5;break}return Object(h.a)(t.props),n.abrupt("return");case 5:return n.next=7,d.a.Profile[e?"unfollow":"follow"]({username:r});case 7:o=n.sent,i=o.data.profile,t.setState(Object(g.a)(function(n){n.profile.following=i.following}));case 10:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}(),t.follow=Object(m.a)(p.a.mark(function n(){return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t.followAction(!1);case 1:case"end":return n.stop()}},n,this)})),t.unfollow=Object(m.a)(p.a.mark(function n(){return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t.followAction(!0);case 1:case"end":return n.stop()}},n,this)})),t}return Object(c.a)(e,n),Object(r.a)(e,[{key:"componentDidMount",value:function(){this.initialize()}},{key:"componentWillUnmount",value:function(){this.source.cancel()}},{key:"initialize",value:function(){var n=Object(m.a)(p.a.mark(function n(){var e,t,a;return p.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,e=this.props.username,this.source=d.a.CancelToken.source(),n.next=5,d.a.Profile.get({username:e,source:this.source});case 5:t=n.sent,a=t.data,this.setState(Object(g.a)(function(n){n.loading=!1,n.profile=a.profile})),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}},n,this,[[0,10]])}));return function(){return n.apply(this,arguments)}}()},{key:"render",value:function(){var n=this.props,e=n.user,t=n.userInfo,a=this.state,r=a.loading,o=a.profile;if(r)return l.a.createElement("div",null,"Loading...");var i=o.username,c=o.bio,s=o.image,u=o.following,p=i!==t.username,m=p&&!1===u&&!e,f=p&&!0===u;return l.a.createElement(x,null,l.a.createElement("img",{src:s,alt:"",className:"img"}),l.a.createElement("h2",{className:"username"},i),l.a.createElement("p",{className:"bio"},c),(m||f)&&l.a.createElement("div",{className:"action"},m&&l.a.createElement("button",{type:"button",onClick:this.follow},"Follow ",i),f&&l.a.createElement("button",{type:"button",onClick:this.unfollow},"Unfollow ",i)))}}]),e}(s.Component),y=Object(f.b)(function(n){return{user:n.auth.user,userInfo:n.auth.userInfo}},function(n){return{}})(w),j=t(358),k=function(n){function e(){var n,t;Object(a.a)(this,e);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(t=Object(o.a)(this,(n=Object(i.a)(e)).call.apply(n,[this].concat(c)))).handlePageChange=function(n){t.props.history.push("/@".concat(t.props.match.params.username,"/").concat(n))},t}return Object(c.a)(e,n),Object(r.a)(e,[{key:"render",value:function(){var n=this.props,e=n.history,t=n.location,a=n.match;return l.a.createElement(l.a.Fragment,null,l.a.createElement(y,{history:e,location:t,username:a.params.username}),l.a.createElement(j.a,{username:a.params.username,page:a.params.page,handlePageChange:this.handlePageChange,history:e,useTotal:!0,countPerPage:5}))}}]),e}(s.Component);e.default=k}}]);