(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{115:function(e,n,t){"use strict";n.a=function(e){return e.history.push({pathname:"/login",state:{prevLocation:e.location.pathname,loginMsg:"\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4"}}),null}},116:function(e,n,t){"use strict";t.r(n),t.d(n,"fetch",function(){return l}),t.d(n,"reset",function(){return i}),t.d(n,"createComment",function(){return s}),t.d(n,"deleteComment",function(){return d});var r=t(163),a=t(80),o=t(36),c=t(9),u=t(158),l=function(e){return{type:"ARTICLE_PAGE_LOAD",payload:Promise.all([c.a.Articles.get({slug:e}),c.a.Comments.get({slug:e})])}},i=function(){return{type:"ARTICLE_PAGE_UNLOAD"}},s=function(e){var n=e.slug,t=e.comment;return{type:"CREATE_COMMENT",payload:c.a.Comments.create({slug:n,comment:t})}},d=function(e){return{type:"DELETE_COMMENT",commentId:e}},f={article:null,comments:[]};n.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,n=arguments.length>1?arguments[1]:void 0;return Object(o.a)(e,function(t){switch(n.type){case"ARTICLE_PAGE_LOAD_SUCCESS":return t.article=Object(a.a)({},n.payload[0].data.article,{body:u.markdown.toHTML(n.payload[0].data.article.body)}),t.comments=n.payload[1].data.comments,void(t.loading=!1);case"ARTICLE_PAGE_UNLOAD":return t.article=null,void(t.comments=[]);case"CREATE_COMMENT_SUCCESS":return void(t.comments=[n.payload.data.comment].concat(Object(r.a)(e.comments)));case"DELETE_COMMENT":return void(t.comments=e.comments.filter(function(e){return e.id!==n.commentId}));default:return e}})}},117:function(e,n,t){"use strict";t.r(n),t.d(n,"fetch",function(){return u}),t.d(n,"reset",function(){return l});var r=t(80),a=t(36),o=t(9),c={undefined:"all",all:"all",feed:"feed",articles:"byAuthor",favorites:"favoritedBy"},u=function(e){var n=e.filter,t=e.param;return{type:"ARTICLE_LIST_LOAD",payload:o.a.Articles[c[n]](Object(r.a)({},t))}},l=function(){return{type:"ARTICLE_LIST_UNLOAD"}},i={loading:!1,articles:[],articlesCount:0};n.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,n=arguments.length>1?arguments[1]:void 0;return Object(a.a)(e,function(t){switch(n.type){case"ARTICLE_LIST_LOAD_PENDING":return void(t.loading=!0);case"ARTICLE_LIST_LOAD_SUCCESS":var r=n.payload.data,a=r.articles,o=r.articlesCount;return t.loading=!1,t.articles=a,void(t.articlesCount=o);case"ARTICLE_LIST_LOAD_FAILURE":case"ARTICLE_LIST_UNLOAD":return t.loading=!1,t.articles=[],void(t.articlesCount=0);default:return e}})}},155:function(e,n,t){"use strict";t.r(n),t.d(n,"fetch",function(){return o}),t.d(n,"reset",function(){return c}),t.d(n,"follow",function(){return u}),t.d(n,"unfollow",function(){return l});var r=t(36),a=t(9),o=function(e){return{type:"PROFILE_LOAD",payload:a.a.Profile.get({username:e})}},c=function(){return{type:"PROFILE_UNLOAD"}},u=function(e){return{type:"PROFILE_FOLLOW",payload:a.a.Profile.follow({username:e})}},l=function(e){return{type:"PROFILE_UNFOLLOW",payload:a.a.Profile.unfollow({username:e})}},i={loading:!1,profile:{}};n.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,n=arguments.length>1?arguments[1]:void 0;return Object(r.a)(e,function(t){switch(n.type){case"PROFILE_LOAD_PENDING":return void(t.loading=!0);case"PROFILE_LOAD_SUCCESS":return t.loading=!1,void(t.profile=n.payload.data.profile);case"PROFILE_LOAD_FAILURE":case"PROFILE_UNLOAD":return t.loading=!1,void(t.profile={});case"PROFILE_FOLLOW_SUCCESS":case"PROFILE_UNFOLLOW_SUCCESS":return void(t.profile=n.payload.data.profile);default:return e}})}},166:function(e,n,t){e.exports=t(366)},362:function(e,n,t){},366:function(e,n,t){"use strict";t.r(n);t(167);var r=t(0),a=t.n(r),o=t(77),c=t.n(o),u=t(471),l=t(76),i=t(35),s=t(17),d=t(54),f=t(116),m=t(117),p=t(155),E=Object(s.c)({auth:d.default,article:f.default,articleList:m.default,profile:p.default}),g=t(159),v=t(164),h=Object(v.a)({promiseTypeSuffixes:["PENDING","SUCCESS","FAILURE"]}),O=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,L=Object(s.e)(E,O(Object(s.a)(g.a,h))),b=t(49),I=t(50),_=t(52),y=t(51),A=t(53),C=t(469),T=t(460),S=t(470),j=t(9),R=t(48),w=t.n(R),P=t(115),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=function(n){function t(e){var n;return Object(b.a)(this,t),n=Object(_.a)(this,Object(y.a)(t).call(this,e)),e.user||Object(P.a)(e),n}return Object(A.a)(t,n),Object(I.a)(t,[{key:"render",value:function(){return a.a.createElement(e,this.props)}}]),t}(r.Component);return Object(i.b)(function(e){return{user:e.auth.user,userInfo:e.auth.userInfo}},function(e){return{authActions:Object(s.b)(d,e)}})(n)},N=(t(362),t(459)),D=t(113);function k(){var e=Object(D.a)(["\n  display: flex;\n  flex-wrap:  wrap;\n  align-items: center;\n  padding: 12px 5%;\n  background: #fff;\n  box-shadow: 0 5px 5px 0 rgba(0,0,0,.05);\n\n  .logo {\n    margin: 0;\n    padding: 0;\n    font-weight: 700;\n    font-size: 24px;\n    color: #07c;\n\n    a {\n      text-decoration: none;\n      color: inherit;\n    }\n  }\n\n  .nav {\n    display: flex;\n    margin: 0 0 0 auto;\n\n    li {\n      flex-shrink: 0;\n      list-style: none;\n    }\n\n    a {\n      display: block;\n      height: 35px;\n      line-height: 35px;\n      padding: 0 10px;\n      text-decoration: none;\n      font-weight: 500;\n      font-size: 15px;\n      color: #7f8a93;\n      border-radius: 4px;\n      transition: all .2s;\n\n      &:hover,\n      &:focus {\n        color: #374047;\n        background: #ebedee;\n      }\n    }\n  }\n"]);return k=function(){return e},e}var x=t(114).a.header(k()),F=function(e){function n(){return Object(b.a)(this,n),Object(_.a)(this,Object(y.a)(n).apply(this,arguments))}return Object(A.a)(n,e),Object(I.a)(n,[{key:"render",value:function(){var e=this.props,n=e.user,t=e.userInfo;return a.a.createElement(x,null,a.a.createElement("h1",{className:"logo"},a.a.createElement(N.a,{to:"/"},"World")),a.a.createElement("ul",{className:"nav"},a.a.createElement("li",null,a.a.createElement(N.a,{to:"/"},"Home")),n?a.a.createElement(a.a.Fragment,null,a.a.createElement("li",null,a.a.createElement(N.a,{to:"/form"},"\uae00\ub4f1\ub85d")),a.a.createElement("li",null,a.a.createElement(N.a,{to:"/@".concat(t.username)},"\ud504\ub85c\ud544")),a.a.createElement("li",null,a.a.createElement(N.a,{to:"/Logout"},"\ub85c\uadf8\uc544\uc6c3"))):a.a.createElement(a.a.Fragment,null,a.a.createElement("li",null,a.a.createElement(N.a,{to:"/login"},"\ub85c\uadf8\uc778")),a.a.createElement("li",null,a.a.createElement(N.a,{to:"/join"},"\ud68c\uc6d0\uac00\uc785")))))}}]),n}(r.Component),G=Object(i.b)(function(e){return{user:e.auth.user,userInfo:e.auth.userInfo}},function(e){return{}})(F),M=t(34),W=t.n(M),z=function(){return a.a.createElement("div",null,"Loading...")},H=W()({loader:function(){return Promise.all([t.e(1),t.e(3)]).then(t.bind(null,461))},loading:z}),B=W()({loader:function(){return Promise.all([t.e(0),t.e(4)]).then(t.bind(null,462))},loading:z}),J=W()({loader:function(){return t.e(5).then(t.bind(null,463))},loading:z}),X=W()({loader:function(){return Promise.all([t.e(0),t.e(6)]).then(t.bind(null,464))},loading:z}),V=W()({loader:function(){return Promise.all([t.e(0),t.e(7)]).then(t.bind(null,465))},loading:z}),q=W()({loader:function(){return t.e(8).then(t.bind(null,467))},loading:z}),K=W()({loader:function(){return Promise.all([t.e(1),t.e(9)]).then(t.bind(null,468))},loading:z}),Q=W()({loader:function(){return Promise.all([t.e(0),t.e(10)]).then(t.bind(null,466))},loading:z}),Y=function(e){function n(e){var t;Object(b.a)(this,n),t=Object(_.a)(this,Object(y.a)(n).call(this,e));var r=w.a.get("jwt");return r&&(j.a.setToken(r),e.authActions.init()),t}return Object(A.a)(n,e),Object(I.a)(n,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(G,null),a.a.createElement("div",{className:"container"},a.a.createElement(C.a,null,a.a.createElement(T.a,{exact:!0,path:"/",component:H}),a.a.createElement(T.a,{path:"/articles/:page?",component:H}),a.a.createElement(T.a,{path:"/feed/:page?",component:U(H)}),a.a.createElement(T.a,{exact:!0,path:"/login",component:B}),a.a.createElement(T.a,{exact:!0,path:"/logout",component:J}),a.a.createElement(T.a,{exact:!0,path:"/join",component:X}),a.a.createElement(T.a,{path:"/article/:slug",component:q}),a.a.createElement(T.a,{exact:!0,path:"/form",component:U(V)}),a.a.createElement(T.a,{path:"/form/:slug",component:U(V)}),a.a.createElement(T.a,{path:"/@:username/:filter?/:page?",component:K}),a.a.createElement(T.a,{path:"/profile",component:U(Q)}),a.a.createElement(T.a,{component:H}))))}}]),n}(r.Component),Z=Object(S.a)(Object(i.b)(function(e){return{user:e.auth.user}},function(e){return{authActions:Object(s.b)(d,e)}})(Y)),$=Object(l.a)({basename:"/world"});c.a.render(a.a.createElement(i.a,{store:L},a.a.createElement(u.a,{history:$},a.a.createElement(Z,null))),document.getElementById("root"))},54:function(e,n,t){"use strict";t.r(n),t.d(n,"init",function(){return c}),t.d(n,"login",function(){return u}),t.d(n,"logout",function(){return l}),t.d(n,"register",function(){return i}),t.d(n,"update",function(){return s}),t.d(n,"resetAuth",function(){return d});var r=t(36),a=t(9),o=t(48),c=function(){return{type:"LOGIN",payload:a.a.Auth.current()}},u=function(e){var n=e.email,t=e.password;return{type:"LOGIN",payload:a.a.Auth.login({email:n,password:t})}},l=function(){return{type:"LOGOUT"}},i=function(e){var n=e.username,t=e.email,r=e.password;return{type:"REGISTER",payload:a.a.Auth.register({username:n,email:t,password:r})}},s=function(e){var n=e.user;return{type:"UPDATE",payload:a.a.Auth.save({user:n})}},d=function(){return{type:"RESET_AUTH"}},f={user:t.n(o).a.get("jwt")||null,userInfo:{},loading:!1,error:[]};n.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,n=arguments.length>1?arguments[1]:void 0;return Object(r.a)(e,function(t){switch(n.type){case"LOGIN_PENDING":case"REGISTER_PENDING":case"UPDATE_PENDING":return void(t.loading=!0);case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":var r=n.payload.data.user.token;return a.a.setToken(r),t.user=r,t.userInfo=n.payload.data.user,t.loading=!1,void(t.error=[]);case"UPDATE_SUCCESS":return t.userInfo=n.payload.data.user,t.loading=!1,void(t.error=[]);case"LOGIN_FAILURE":case"REGISTER_FAILURE":case"UPDATE_FAILURE":var o=n.payload.response.data.errors,c=Object.keys(o).map(function(e){return"".concat(e," ").concat(o[e].join(", "))});return t.loading=!1,void(t.error=c);case"LOGOUT":return a.a.setToken(null),t.user=null,void(t.userInfo={});case"RESET_AUTH":return t.loading=!1,void(t.error=[]);default:return e}})}},9:function(e,n,t){"use strict";var r=t(109),a=t.n(r),o=t(48),c=t.n(o),u=a.a.create({baseURL:"https://conduit.productionready.io/api"}),l=a.a.CancelToken,i=function(e,n){return u.delete(e,n?{cancelToken:n.token}:{})},s=function(e,n){return u.get(e,n?{cancelToken:n.token}:{})},d=function(e,n,t){return u.put(e,n,t?{cancelToken:t.token}:{})},f=function(e,n,t){return u.post(e,n,t?{cancelToken:t.token}:{})},m={current:function(){return s("/user")},login:function(e){var n=e.email,t=e.password,r=e.source;return f("/users/login",{user:{email:n,password:t}},r)},register:function(e){var n=e.username,t=e.email,r=e.password,a=e.source;return f("/users",{user:{username:n,email:t,password:r}},a)},save:function(e){var n=e.user,t=e.source;return d("/user",{user:n},t)}},p=function(e,n){return"limit=".concat(e,"&offset=").concat(n?n*e:0)},E={all:function(e){var n=e.page,t=e.source;return s("/articles?".concat(p(10,n)),t)},feed:function(e){var n=e.page,t=e.source;return s("/articles/feed?".concat(p(10,n)),t)},byAuthor:function(e){var n=e.username,t=e.page,r=e.source;return s("/articles?author=".concat(encodeURIComponent(n),"&").concat(p(5,t)),r)},favoritedBy:function(e){var n=e.username,t=e.page,r=e.source;return s("/articles?favorited=".concat(encodeURIComponent(n),"&").concat(p(5,t)),r)},favorite:function(e){var n=e.slug,t=e.source;return f("/articles/".concat(n,"/favorite"),t)},unfavorite:function(e){var n=e.slug,t=e.source;return i("/articles/".concat(n,"/favorite"),t)},create:function(e){var n=e.article,t=e.source;return f("/articles",{article:n},t)},update:function(e){var n=e.article,t=e.source;return d("/articles/".concat(n.slug),{article:n},t)},delete:function(e){var n=e.slug,t=e.source;return i("/articles/".concat(n),t)},get:function(e){var n=e.slug,t=e.source;return s("/articles/".concat(n),t)}},g={get:function(e){var n=e.slug,t=e.source;return s("/articles/".concat(n,"/comments"),t)},create:function(e){var n=e.slug,t=e.comment,r=e.source;return f("/articles/".concat(n,"/comments"),{comment:t},r)},delete:function(e){var n=e.slug,t=e.commentId,r=e.source;return i("/articles/".concat(n,"/comments/").concat(t),r)}},v={get:function(e){var n=e.username,t=e.source;return s("/profiles/".concat(n),t)},follow:function(e){var n=e.username,t=e.source;return f("/profiles/".concat(n,"/follow"),t)},unfollow:function(e){var n=e.username,t=e.source;return i("/profiles/".concat(n,"/follow"),t)}};n.a={CancelToken:l,setToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(c.a.set("jwt",e),u.defaults.headers.common.Authorization="Token ".concat(e)):(c.a.remove("jwt",e),delete u.defaults.headers.common.Authorization)},Auth:m,Articles:E,Comments:g,Profile:v}}},[[166,12,11]]]);