{"version":3,"sources":["api/index.js","store/modules/auth.js","store/modules/index.js","store/index.js","pages/Home.js","pages/Login.js","pages/Join.js","App.js","index.js"],"names":["API_ROOT","setToken","token","arguments","length","undefined","window","localStorage","setItem","http","defaults","headers","common","concat","removeItem","getItem","req","url","del","get","body","put","post","api","Auth","current","login","email","password","user","register","username","save","Articles","all","page","count","limit","create","article","Profile","follow","unfollow","userid","type","payload","API","logout","initialState","loading","error","auth","state","action","produce","draft","data","errors","response","msg","Object","keys","map","k","join","combineReducers","customizedPromiseMiddleware","promiseMiddleware","promiseTypeSuffixes","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","modules","applyMiddleware","ReduxThunk","Home","articlesCount","articles","fetchArticles","_callee","_ref2","regenerator_default","a","wrap","_context","prev","next","sent","_this","setState","stop","this","testCreate","props","title","Date","description","tagList","then","console","log","alert","_this$state","react_default","createElement","Fragment","onClick","v","key","slug","className","author","updatedAt","Component","connect","dispatch","Login","submitHandle","e","authActions","preventDefault","changeInput","name","value","target","defineProperty","_this$props","_this$state2","Redirect","to","onSubmit","disabled","onChange","err","bindActionCreators","Join","App","BrowserRouter","basename","process","Link","href","Route","exact","path","component","ReactDOM","render","es","src_App","document","getElementById"],"mappings":"sXAEMA,EAAW,yCAKXC,EAAW,WAAkB,IAAjBC,EAAiBC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAT,KACrBD,GACDI,OAAOC,aAAaC,QAAQ,MAAON,GACnCO,IAAKC,SAASC,QAAQC,OAAtB,uBAAAC,OAAyDX,KAEzDI,OAAOC,aAAaO,WAAW,cACxBL,IAAKC,SAASC,QAAQC,OAAtB,gBAILV,EAAQK,aAAaQ,QAAQ,OAEhCb,GACDD,EAASC,GAGX,IAAMc,EACC,SAAAC,GAAG,OACNR,IAAKS,IAAL,GAAAL,OAAYb,GAAZa,OAAuBI,KAFrBD,EAGC,SAAAC,GAAG,OACNR,IAAKU,IAAL,GAAAN,OAAYb,GAAZa,OAAuBI,KAJrBD,EAKC,SAACC,EAAKG,GAAN,OACHX,IAAKY,IAAL,GAAAR,OAAYb,GAAZa,OAAuBI,GAAOG,IAN5BJ,EAOE,SAACC,EAAKG,GAAN,OACJX,IAAKa,KAAL,GAAAT,OAAab,GAAba,OAAwBI,GAAOG,IA+BpBG,EAAA,CACbtB,WACAuB,KA9BW,CACXC,QAAS,kBACPT,EAAQ,UACVU,MAAO,SAACC,EAAOC,GAAR,OACLZ,EAAS,eAAgB,CAAEa,KAAM,CAAEF,QAAOC,eAC5CE,SAAU,SAACC,EAAUJ,EAAOC,GAAlB,OACRZ,EAAS,SAAU,CAAEa,KAAM,CAAEE,WAAUJ,QAAOC,eAChDI,KAAM,SAAAH,GAAI,OACRb,EAAQ,QAAS,CAAEa,WAuBtBI,SAnBgB,CACfC,IAAK,SAAAC,GAAI,OACPnB,EAAA,aAAAH,OAHU,SAACuB,EAAOD,GAAR,eAAAtB,OAA0BuB,EAA1B,YAAAvB,OAA0CsB,EAAOA,EAAOC,EAAQ,GAGrDC,CAAM,GAAIF,MACjCG,OAAQ,SAAAC,GAAO,OACbvB,EAAS,YAAa,CAAEuB,cAgB1BC,QAbc,CACdC,OAAQ,SAAAV,GAAQ,OACdf,EAAA,aAAAH,OAAsBkB,EAAtB,aACFZ,IAAK,SAAAY,GAAQ,OACXf,EAAA,aAAAH,OAAqBkB,KACvBW,SAAU,SAAAX,GAAQ,OAChBf,EAAA,aAAAH,OAAqBkB,EAArB,eC9CSL,EAAQ,SAACiB,EAAQf,GAAT,MAAuB,CAC1CgB,KAXY,QAYZC,QAASC,EAAItB,KAAKE,MAAMiB,EAAQf,KAGrBmB,EAAS,iBAAO,CACzBH,KAZW,WAeFd,EAAW,SAACC,EAAUJ,EAAOC,GAAlB,MAAgC,CACtDgB,KAfe,WAgBfC,QAASC,EAAItB,KAAKM,SAASC,EAAUJ,EAAOC,KAGxCoB,EAAe,CACnBnB,KAAMtB,aAAaQ,QAAQ,QAAU,KACrCkC,SAAS,EACTC,MAAO,IAGMC,EAAA,WAAkC,IAAjCC,EAAiCjD,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAzB6C,EAAcK,EAAWlD,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC/C,OAAOiD,YAAQF,EAAO,SAAAG,GACpB,OAAQF,EAAOT,MACb,IAhCgB,gBAiChB,IA5BmB,mBA8BjB,YADAW,EAAMN,SAAU,GAGlB,IApCgB,gBAqChB,IAhCmB,mBAgCnB,IACU/C,EAAUmD,EAAOR,QAAQW,KAAK3B,KAA9B3B,MAKR,OAJA4C,EAAI7C,SAASC,GACbqD,EAAM1B,KAAO3B,EACbqD,EAAMN,SAAU,OAChBM,EAAML,MAAQ,IAGhB,IA5CgB,gBA6ChB,IAxCmB,mBAyCjB,IAAMO,EAASJ,EAAOR,QAAQa,SAASF,KAAKC,OACtCE,EAAMC,OAAOC,KAAKJ,GAAQK,IAAI,SAAAC,GAClC,SAAAlD,OAAUkD,EAAV,KAAAlD,OAAe4C,EAAOM,GAAGC,KAAK,SAKhC,OAFAT,EAAMN,SAAU,OAChBM,EAAML,MAAQS,GAGhB,IAtDS,SAyDP,OAFAb,EAAI7C,SAAS,WACbsD,EAAM1B,MAAO,GAGf,QACE,OAAOuB,MChEAa,cAAgB,CAC7Bd,yBCIIe,EAA8BC,YAAkB,CAClDC,oBAAqB,CAAC,UAAW,UAAW,aAG1CC,EAAmB/D,OAAOgE,sCAAwCC,IAazDC,EAXDC,YACZC,EACAL,EACEM,YAEEC,IACAV,4FChBAW,6MACJzB,MAAQ,CACN0B,cAAe,EACfC,SAAU,MAOZC,mCAAgB,SAAAC,IAAA,IAAAC,EAAA1B,EAAAsB,EAAAC,EAAA,OAAAI,EAAAC,EAAAC,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACS1C,EAAIb,SAASC,MADtB,OAAAgD,EAAAI,EAAAG,KACNjC,EADM0B,EACN1B,KACAsB,EAA4BtB,EAA5BsB,cAAeC,EAAavB,EAAbuB,SAEvBW,EAAKC,SAAS,iBAAO,CACpBb,gBACAC,cANa,wBAAAO,EAAAM,SAAAX,EAAAY,WAUhBC,WAAa,WACMJ,EAAKK,MAAdlE,KAORiB,EAAIb,SAASK,OAAO,CAClB0D,MAAO,IAAIC,KACXC,YAAa,eACb9E,KAAM,sDACN+E,QAAS,KACRC,KAAK,SAAA5C,GACN6C,QAAQC,IAAI9C,GACZkC,EAAKV,kBAXLuB,MAAM,+IAjBRV,KAAKb,iDAiCE,IAAAwB,EAC6BX,KAAKzC,MAAjC0B,EADD0B,EACC1B,cAAeC,EADhByB,EACgBzB,SAEvB,OACE0B,EAAArB,EAAAsB,cAAAD,EAAArB,EAAAuB,SAAA,KACEF,EAAArB,EAAAsB,cAAA,kBAEAD,EAAArB,EAAAsB,cAAA,WACED,EAAArB,EAAAsB,cAAA,UAAQ9D,KAAK,SAASgE,QAASf,KAAKC,YAApC,2EAGFW,EAAArB,EAAAsB,cAAA,oBAAY5B,GAEZ2B,EAAArB,EAAAsB,cAAA,UAEI3B,EAASjB,IAAI,SAAA+C,GAAC,OACZJ,EAAArB,EAAAsB,cAAA,MAAII,IAAKD,EAAEE,MACTN,EAAArB,EAAAsB,cAAA,KAAGM,UAAU,SAAb,kBAA2BH,EAAEb,OAC7BS,EAAArB,EAAAsB,cAAA,KAAGM,UAAU,QAAQH,EAAEX,aACvBO,EAAArB,EAAAsB,cAAA,OAAKM,UAAU,QACbP,EAAArB,EAAAsB,cAAA,QAAMM,UAAU,UAAhB,uBAA+BH,EAAEI,OAAOlF,UAAiB,IACzD0E,EAAArB,EAAAsB,cAAA,QAAMM,UAAU,QAAhB,uBAA6BH,EAAEK,WAAkB,IACjDT,EAAArB,EAAAsB,cAAA,QAAMM,UAAU,OAAhB,QAA4BH,EAAEV,QAAQnC,KAAK,oBA9D1CmD,aAgFJC,cAPS,SAAChE,GAAD,MAAY,CAClCvB,KAAMuB,EAAMD,KAAKtB,OAGQ,SAACwF,GAAD,MAAe,IAG3BD,CAA6CvC,mBC9EtDyC,6MACJlE,MAAQ,CACNzB,MAAO,GACPC,SAAU,MAGZ2F,aAAe,SAACC,GAAM,IACZC,EAAgB/B,EAAKK,MAArB0B,YADYjB,EAEQd,EAAKtC,MAAzBzB,EAFY6E,EAEZ7E,MAAOC,EAFK4E,EAEL5E,SAEf6F,EAAY/F,MAAMC,EAAOC,GAEzB4F,EAAEE,oBAGJC,YAAc,SAAAC,GAAI,OAAI,SAAAJ,GAAK,IACjBK,EAAUL,EAAEM,OAAZD,MACRnC,EAAKC,SAAS,kBAAA/B,OAAAmE,EAAA,EAAAnE,CAAA,GACXgE,EAAOC,+EAIH,IAAAG,EAC0BnC,KAAKE,MAA9BlE,EADDmG,EACCnG,KAAMoB,EADP+E,EACO/E,QAASC,EADhB8E,EACgB9E,MADhB+E,EAEqBpC,KAAKzC,MAF1B6E,EAECtG,MAFDsG,EAEQrG,SAEf,OAAOC,EACL4E,EAAArB,EAAAsB,cAACwB,EAAA,EAAD,CAAUC,GAAG,MAGX1B,EAAArB,EAAAsB,cAAAD,EAAArB,EAAAuB,SAAA,KACEF,EAAArB,EAAAsB,cAAA,gCACAD,EAAArB,EAAAsB,cAAA,QAAM0B,SAAUvC,KAAK0B,cACnBd,EAAArB,EAAAsB,cAAA,gBACED,EAAArB,EAAAsB,cAAA,WACED,EAAArB,EAAAsB,cAAA,qBAEED,EAAArB,EAAAsB,cAAA,SAAO9D,KAAK,QAAQyF,SAAUpF,EAASqF,SAAUzC,KAAK8B,YAAY,aAGtElB,EAAArB,EAAAsB,cAAA,WACED,EAAArB,EAAAsB,cAAA,wBAEED,EAAArB,EAAAsB,cAAA,SAAO9D,KAAK,WAAWyF,SAAUpF,EAASqF,SAAUzC,KAAK8B,YAAY,gBAGvE1E,GAAWwD,EAAArB,EAAAsB,cAAA,2CACXxD,EAAM9C,OAAS,GAAK8C,EAAMY,IAAI,SAAAyE,GAAG,OAAI9B,EAAArB,EAAAsB,cAAA,OAAKI,IAAKyB,GAAMA,KACvD9B,EAAArB,EAAAsB,cAAA,UAAQ9D,KAAK,SAASyF,SAAUpF,GAAhC,gCAhDMkE,aAkELC,cAVS,SAAChE,GAAD,MAAY,CAClCvB,KAAMuB,EAAMD,KAAKtB,KACjBoB,QAASG,EAAMD,KAAKF,QACpBC,MAAOE,EAAMD,KAAKD,QAGO,SAACmE,GAAD,MAAe,CACxCI,YAAae,YAAmBf,EAAaJ,KAGhCD,CAA6CE,GClEtDmB,6MACJrF,MAAQ,CACNrB,SAAU,GACVJ,MAAO,GACPC,SAAU,MAGZ2F,aAAe,SAACC,GAAM,IACZC,EAAgB/B,EAAKK,MAArB0B,YADYjB,EAEkBd,EAAKtC,MAAnCrB,EAFYyE,EAEZzE,SAAUJ,EAFE6E,EAEF7E,MAAOC,EAFL4E,EAEK5E,SAEzB6F,EAAY3F,SAASC,EAAUJ,EAAOC,GAEtC4F,EAAEE,oBAGJC,YAAc,SAAAC,GAAI,OAAI,SAAAJ,GAAK,IACjBK,EAAUL,EAAEM,OAAZD,MACRnC,EAAKC,SAAS,kBAAA/B,OAAAmE,EAAA,EAAAnE,CAAA,GACXgE,EAAOC,+EAIH,IAAAG,EAC0BnC,KAAKE,MAA9BlE,EADDmG,EACCnG,KAAMoB,EADP+E,EACO/E,QAASC,EADhB8E,EACgB9E,MADhB+E,EAE+BpC,KAAKzC,MAAnCrB,EAFDkG,EAEClG,SAAUJ,EAFXsG,EAEWtG,MAAOC,EAFlBqG,EAEkBrG,SAEzB,OAAOC,EACL4E,EAAArB,EAAAsB,cAACwB,EAAA,EAAD,CAAUC,GAAG,MAGX1B,EAAArB,EAAAsB,cAAAD,EAAArB,EAAAuB,SAAA,KACEF,EAAArB,EAAAsB,cAAA,sCACAD,EAAArB,EAAAsB,cAAA,QAAM0B,SAAUvC,KAAK0B,cACnBd,EAAArB,EAAAsB,cAAA,gBACED,EAAArB,EAAAsB,cAAA,WACED,EAAArB,EAAAsB,cAAA,wBAEED,EAAArB,EAAAsB,cAAA,SAAO9D,KAAK,OAAOyF,SAAUpF,EAAS4E,MAAO9F,EAAUuG,SAAUzC,KAAK8B,YAAY,gBAGtFlB,EAAArB,EAAAsB,cAAA,WACED,EAAArB,EAAAsB,cAAA,qBAEED,EAAArB,EAAAsB,cAAA,SAAO9D,KAAK,QAAQyF,SAAUpF,EAAS4E,MAAOlG,EAAO2G,SAAUzC,KAAK8B,YAAY,aAGpFlB,EAAArB,EAAAsB,cAAA,WACED,EAAArB,EAAAsB,cAAA,wBAEED,EAAArB,EAAAsB,cAAA,SAAO9D,KAAK,WAAWyF,SAAUpF,EAAS4E,MAAOjG,EAAU0G,SAAUzC,KAAK8B,YAAY,gBAGxF1E,GAAWwD,EAAArB,EAAAsB,cAAA,iDACXxD,EAAM9C,OAAS,GAAK8C,EAAMY,IAAI,SAAAyE,GAAG,OAAI9B,EAAArB,EAAAsB,cAAA,OAAKI,IAAKyB,GAAMA,KACvD9B,EAAArB,EAAAsB,cAAA,UAAQ9D,KAAK,SAASyF,SAAUpF,GAAhC,4BAAuD,IACvDwD,EAAArB,EAAAsB,cAAA,UAAQ9D,KAAK,SAASyF,SAAUpF,GAAhC,0BAxDKkE,aA0EJC,cAVS,SAAChE,GAAD,MAAY,CAClCvB,KAAMuB,EAAMD,KAAKtB,KACjBoB,QAASG,EAAMD,KAAKF,QACpBC,MAAOE,EAAMD,KAAKD,QAGO,SAACmE,GAAD,MAAe,CACxCI,YAAae,YAAmBf,EAAaJ,KAGhCD,CAA6CqB,GCvEtDC,6MAEJ3F,OAAS,SAACyE,GACgB9B,EAAKK,MAArB0B,YACI1E,SAEZyE,EAAEE,0FAGK,IACC7F,EAASgE,KAAKE,MAAdlE,KAER,OACE4E,EAAArB,EAAAsB,cAACiC,EAAA,EAAD,CAAQC,SAAUC,UAChBpC,EAAArB,EAAAsB,cAAA,OAAKM,UAAU,WACbP,EAAArB,EAAAsB,cAAA,cACED,EAAArB,EAAAsB,cAAA,mBACAD,EAAArB,EAAAsB,cAAA,UACED,EAAArB,EAAAsB,cAAA,UACED,EAAArB,EAAAsB,cAACoC,EAAA,EAAD,CAAMX,GAAG,KAAT,SAGAtG,EACA4E,EAAArB,EAAAsB,cAAA,UACED,EAAArB,EAAAsB,cAAA,KAAGqC,KAAK,IAAInC,QAASf,KAAK9C,QAA1B,6BAGF0D,EAAArB,EAAAsB,cAAAD,EAAArB,EAAAuB,SAAA,KACEF,EAAArB,EAAAsB,cAAA,UACED,EAAArB,EAAAsB,cAACoC,EAAA,EAAD,CAAMX,GAAG,UAAT,uBAEF1B,EAAArB,EAAAsB,cAAA,UACED,EAAArB,EAAAsB,cAACoC,EAAA,EAAD,CAAMX,GAAG,SAAT,gCAOV1B,EAAArB,EAAAsB,cAACsC,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,IAAIC,UAAWtE,IACjC4B,EAAArB,EAAAsB,cAACsC,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,SAASC,UAAW7B,IACtCb,EAAArB,EAAAsB,cAACsC,EAAA,EAAD,CAAOC,OAAK,EAACC,KAAK,QAAQC,UAAWV,aAzC7BtB,aA0DHC,cAVS,SAAChE,GAAD,MAAY,CAClCvB,KAAMuB,EAAMD,KAAKtB,KACjBoB,QAASG,EAAMD,KAAKF,QACpBC,MAAOE,EAAMD,KAAKD,QAGO,SAACmE,GAAD,MAAe,CACxCI,YAAae,YAAmBf,EAAaJ,KAGhCD,CAA6CsB,GC5D5DU,IAASC,OACP5C,EAAArB,EAAAsB,cAAC4C,EAAA,EAAD,CAAU9E,MAAOA,GACfiC,EAAArB,EAAAsB,cAAC6C,EAAD,OAEFC,SAASC,eAAe","file":"static/js/main.fc0f32d2.chunk.js","sourcesContent":["import http from 'axios'\r\n\r\nconst API_ROOT = 'https://conduit.productionready.io/api'\r\n\r\n// const encode = encodeURIComponent\r\n// const responseBody = res => res.data\r\n\r\nconst setToken = (token = null) => {\r\n  if(token) {\r\n    window.localStorage.setItem('jwt', token)\r\n    http.defaults.headers.common['Authorization'] = `Token ${token}`\r\n  } else {\r\n    window.localStorage.removeItem('jwt')\r\n    delete http.defaults.headers.common['Authorization']\r\n  }\r\n}\r\n\r\nconst token = localStorage.getItem('jwt')\r\n\r\nif(token) {\r\n  setToken(token)\r\n}\r\n\r\nconst req = {\r\n  del: url =>\r\n    http.del(`${API_ROOT}${url}`),\r\n  get: url =>\r\n    http.get(`${API_ROOT}${url}`),\r\n  put: (url, body) =>\r\n    http.put(`${API_ROOT}${url}`, body),\r\n  post: (url, body) =>\r\n    http.post(`${API_ROOT}${url}`, body),\r\n}\r\n\r\nconst Auth = {\r\n  current: () =>\r\n    req.get('/user'),\r\n  login: (email, password) =>\r\n    req.post('/users/login', { user: { email, password } }),\r\n  register: (username, email, password) =>\r\n    req.post('/users', { user: { username, email, password } }),\r\n  save: user =>\r\n    req.put('/user', { user })\r\n}\r\n\r\nconst limit = (count, page) => `limit=${count}&offset=${page ? page * count : 0}`\r\nconst Articles = {\r\n  all: page =>\r\n    req.get(`/articles?${limit(10, page)}`),\r\n  create: article =>\r\n    req.post('/articles', { article }),\r\n}\r\n\r\nconst Profile = {\r\n  follow: username =>\r\n    req.post(`/profiles/${username}/follow`),\r\n  get: username =>\r\n    req.get(`/profiles/${username}`),\r\n  unfollow: username =>\r\n    req.del(`/profiles/${username}/follow`)\r\n}\r\n\r\nexport default {\r\n  setToken,\r\n  Auth,\r\n\tArticles,\r\n  Profile,\r\n}","import produce from \"immer\"\r\nimport API from 'api'\r\n\r\nconst LOGIN = 'LOGIN'\r\nconst LOGIN_PENDING = 'LOGIN_PENDING'\r\nconst LOGIN_SUCCESS = 'LOGIN_SUCCESS'\r\nconst LOGIN_FAILURE = 'LOGIN_FAILURE'\r\nconst LOGOUT = 'LOGOUT'\r\nconst REGISTER = 'REGISTER'\r\nconst REGISTER_PENDING = 'REGISTER_PENDING'\r\nconst REGISTER_SUCCESS = 'REGISTER_SUCCESS'\r\nconst REGISTER_FAILURE = 'REGISTER_FAILURE'\r\n\r\nexport const login = (userid, password) => ({\r\n  type: LOGIN,\r\n  payload: API.Auth.login(userid, password)\r\n})\r\n\r\nexport const logout = () => ({\r\n    type: LOGOUT\r\n})\r\n\r\nexport const register = (username, email, password) => ({\r\n  type: REGISTER,\r\n  payload: API.Auth.register(username, email, password)\r\n})\r\n\r\nconst initialState = {\r\n  user: localStorage.getItem('jwt') || null,\r\n  loading: false,\r\n  error: [],\r\n}\r\n\r\nexport default (state = initialState, action) => {\r\n  return produce(state, draft => {\r\n    switch (action.type) {\r\n      case LOGIN_PENDING:\r\n      case REGISTER_PENDING:\r\n        draft.loading = true\r\n        return\r\n      \r\n      case LOGIN_SUCCESS:\r\n      case REGISTER_SUCCESS:\r\n        const { token } = action.payload.data.user\r\n        API.setToken(token)\r\n        draft.user = token\r\n        draft.loading = false\r\n        draft.error = []\r\n        return\r\n\r\n      case LOGIN_FAILURE:\r\n      case REGISTER_FAILURE:\r\n        const errors = action.payload.response.data.errors\r\n        const msg = Object.keys(errors).map(k => {\r\n          return `${k} ${errors[k].join(', ')}`\r\n        })\r\n\r\n        draft.loading = false\r\n        draft.error = msg\r\n        return\r\n\r\n      case LOGOUT:\r\n        API.setToken(null)\r\n        draft.user = false\r\n        return\r\n\r\n      default:\r\n        return state\r\n    }\r\n  })\r\n}","import { combineReducers } from 'redux'\r\nimport auth from './auth'\r\n\r\nexport default combineReducers({\r\n  auth\r\n})","import { createStore, compose, applyMiddleware } from 'redux'\r\nimport modules from './modules'\r\n\r\n// import { createLogger } from 'redux-logger'\r\nimport ReduxThunk from 'redux-thunk'\r\nimport promiseMiddleware from 'redux-promise-middleware'\r\n\r\n// const logger = createLogger()\r\nconst customizedPromiseMiddleware = promiseMiddleware({\r\n    promiseTypeSuffixes: ['PENDING', 'SUCCESS', 'FAILURE']\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\nconst store = createStore(\r\n  modules,\r\n  composeEnhancers(\r\n    applyMiddleware(\r\n      // logger,\r\n      ReduxThunk,\r\n      customizedPromiseMiddleware,\r\n    )\r\n  )\r\n)\r\n\r\nexport default store","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport API from 'api'\r\n\r\nclass Home extends Component {\r\n  state = {\r\n    articlesCount: 0,\r\n    articles: []\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchArticles()\r\n  }\r\n  \r\n  fetchArticles = async () => {\r\n    const { data } = await API.Articles.all()\r\n    const { articlesCount, articles } = data\r\n    \r\n    this.setState(() => ({\r\n     articlesCount,\r\n     articles\r\n    }))\r\n  }\r\n\r\n  testCreate = () => {\r\n    const { user } = this.props\r\n\r\n    if(!user) {\r\n      alert('로그인이 필요합니다')\r\n      return\r\n    }\r\n\r\n    API.Articles.create({\r\n      title: new Date(),\r\n      description: 'test article',\r\n      body: 'test content test content test content test content',\r\n      tagList: [],\r\n    }).then(data => {\r\n      console.log(data)\r\n      this.fetchArticles()\r\n    })\r\n\r\n  }\r\n\r\n  render() {\r\n    const { articlesCount, articles } = this.state\r\n\r\n    return (\r\n      <>\r\n        <h2>Home</h2>\r\n\r\n        <div>\r\n          <button type=\"button\" onClick={this.testCreate}>테스트 글쓰기(로그인 필요)</button>\r\n        </div>\r\n\r\n        <p>total : {articlesCount}</p>\r\n\r\n        <ul>\r\n          {\r\n            articles.map(v => (\r\n              <li key={v.slug}>\r\n                <p className=\"title\">제목 : {v.title}</p>\r\n                <p className=\"desc\">{v.description}</p>\r\n                <div className=\"info\">\r\n                  <span className=\"author\">작성자: {v.author.username}</span>{' '}\r\n                  <span className=\"date\">작성일: {v.updatedAt}</span>{' '}\r\n                  <span className=\"tag\">Tag: {v.tagList.join(', ')}</span>\r\n                </div>\r\n              </li>\r\n            ))\r\n          }\r\n        </ul>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.auth.user,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)","import React, { Component } from 'react'\r\nimport { Redirect } from 'react-router-dom';\r\nimport { bindActionCreators } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport * as authActions from 'store/modules/auth'\r\n\r\nclass Login extends Component {\r\n  state = {\r\n    email: '',\r\n    password: ''\r\n  }\r\n\r\n  submitHandle = (e) => {\r\n    const { authActions } = this.props\r\n    const { email, password } = this.state\r\n\r\n    authActions.login(email, password)\r\n\r\n    e.preventDefault()\r\n  }\r\n\r\n  changeInput = name => e => {\r\n    const { value } = e.target\r\n    this.setState(() => ({\r\n      [name]: value\r\n    }))\r\n  }\r\n  \r\n  render() {\r\n    const { user, loading, error } = this.props\r\n    const { email, password } = this.state\r\n\r\n    return user ?\r\n      <Redirect to=\"/\" />\r\n      :\r\n      (\r\n        <>\r\n          <h2>로그인</h2>\r\n          <form onSubmit={this.submitHandle}>\r\n            <fieldset>\r\n              <div>\r\n                <label>\r\n                  email\r\n                  <input type=\"email\" disabled={loading} onChange={this.changeInput('email')} />\r\n                </label>\r\n              </div>\r\n              <div>\r\n                <label>\r\n                  password\r\n                  <input type=\"password\" disabled={loading} onChange={this.changeInput('password')} />\r\n                </label>\r\n              </div>\r\n              { loading && <div>로그인 중...</div> }\r\n              { error.length > 1 && error.map(err => <div key={err}>{err}</div>) }\r\n              <button type=\"submit\" disabled={loading}>로그인</button>\r\n            </fieldset>\r\n          </form>\r\n        </>\r\n      )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.auth.user,\r\n  loading: state.auth.loading,\r\n  error: state.auth.error,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  authActions: bindActionCreators(authActions, dispatch)\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)","import React, { Component } from 'react'\r\nimport { Redirect } from 'react-router-dom';\r\nimport { bindActionCreators } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport * as authActions from 'store/modules/auth'\r\n\r\nclass Join extends Component {\r\n  state = {\r\n    username: '',\r\n    email: '',\r\n    password: ''\r\n  }\r\n\r\n  submitHandle = (e) => {\r\n    const { authActions } = this.props\r\n    const { username, email, password } = this.state\r\n\r\n    authActions.register(username, email, password)\r\n\r\n    e.preventDefault()\r\n  }\r\n\r\n  changeInput = name => e => {\r\n    const { value } = e.target\r\n    this.setState(() => ({\r\n      [name]: value\r\n    }))\r\n  }\r\n\r\n  render() {\r\n    const { user, loading, error } = this.props\r\n    const { username, email, password } = this.state\r\n\r\n    return user ?\r\n      <Redirect to=\"/\" />\r\n      :\r\n      (\r\n        <>\r\n          <h2>회원가입</h2>\r\n          <form onSubmit={this.submitHandle}>\r\n            <fieldset>\r\n              <div>\r\n                <label>\r\n                  username\r\n                  <input type=\"text\" disabled={loading} value={username} onChange={this.changeInput('username')} />\r\n                </label>\r\n              </div>\r\n              <div>\r\n                <label>\r\n                  email\r\n                  <input type=\"email\" disabled={loading} value={email} onChange={this.changeInput('email')} />\r\n                </label>\r\n              </div>\r\n              <div>\r\n                <label>\r\n                  password\r\n                  <input type=\"password\" disabled={loading} value={password} onChange={this.changeInput('password')} />\r\n                </label>\r\n              </div>\r\n              { loading && <div>회원가입 중...</div> }\r\n              { error.length > 1 && error.map(err => <div key={err}>{err}</div>) }\r\n              <button type=\"submit\" disabled={loading}>회원가입</button>{' '}\r\n              <button type=\"button\" disabled={loading}>취소</button>\r\n            </fieldset>\r\n          </form>\r\n        </>\r\n      )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.auth.user,\r\n  loading: state.auth.loading,\r\n  error: state.auth.error,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  authActions: bindActionCreators(authActions, dispatch)\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Join)","import React, { Component } from 'react'\r\nimport { BrowserRouter as Router, Route, Link } from 'react-router-dom';\r\nimport { bindActionCreators } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport * as authActions from 'store/modules/auth'\r\nimport Home from 'pages/Home'\r\nimport Login from 'pages/Login'\r\nimport Join from 'pages/Join'\r\n\r\nclass App extends Component {\r\n\r\n  logout = (e) => {\r\n    const { authActions } = this.props\r\n    authActions.logout()\r\n\r\n    e.preventDefault()\r\n  }\r\n\r\n  render() {\r\n    const { user } = this.props\r\n\r\n    return (\r\n      <Router basename={process.env.PUBLIC_URL}>\r\n        <div className=\"wrapper\">\r\n          <header>\r\n            <h1>World</h1>\r\n            <ul>\r\n              <li>\r\n                <Link to=\"/\">Home</Link>\r\n              </li>\r\n              {\r\n                user ?\r\n                <li>\r\n                  <a href=\"#\" onClick={this.logout}>로그아웃</a>\r\n                </li>\r\n                :\r\n                <>\r\n                  <li>\r\n                    <Link to=\"/login\">로그인</Link>\r\n                  </li>\r\n                  <li>\r\n                    <Link to=\"/join\">회원가입</Link>\r\n                  </li>\r\n                </>\r\n              }\r\n            </ul>\r\n          </header>\r\n          \r\n          <Route exact path=\"/\" component={Home} />\r\n          <Route exact path=\"/login\" component={Login} />\r\n          <Route exact path=\"/join\" component={Join} />\r\n        </div>\r\n      </Router>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.auth.user,\r\n  loading: state.auth.loading,\r\n  error: state.auth.error,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  authActions: bindActionCreators(authActions, dispatch)\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(App)\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\n\r\nimport store from 'store'\r\nimport App from 'App'\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}