(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,n){e.exports=n(176)},176:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"init",function(){return E}),n.d(a,"login",function(){return O}),n.d(a,"logout",function(){return j}),n.d(a,"register",function(){return y}),n.d(a,"default",function(){return k});n(108);var r=n(0),c=n.n(r),o=n(44),l=n.n(o),i=n(181),u=n(24),s=n(10),m=n(11),p=n(2),d=n(25),f=n.n(d),h=f.a.CancelToken,g="https://conduit.productionready.io/api",b={delete:function(e,t){return f.a.delete("".concat(g).concat(e),t?{cancelToken:t.token}:{})},get:function(e,t){return f.a.get("".concat(g).concat(e),t?{cancelToken:t.token}:{})},put:function(e,t,n){return f.a.put("".concat(g).concat(e),t,n?{cancelToken:n.token}:{})},post:function(e,t,n){return f.a.post("".concat(g).concat(e),t,n?{cancelToken:n.token}:{})}},v={CancelToken:h,setToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(window.localStorage.setItem("jwt",e),f.a.defaults.headers.common.Authorization="Token ".concat(e)):(window.localStorage.removeItem("jwt"),delete f.a.defaults.headers.common.Authorization)},Auth:{current:function(e){return b.get("/user",e)},login:function(e,t,n){return b.post("/users/login",{user:{email:e,password:t}},n)},register:function(e,t,n,a){return b.post("/users",{user:{username:e,email:t,password:n}},a)},save:function(e,t){return b.put("/user",{user:e},t)}},Articles:{all:function(e,t){return b.get("/articles?".concat(function(e,t){return"limit=".concat(e,"&offset=").concat(t?t*e:0)}(10,e)),t)},create:function(e,t){return b.post("/articles",{article:e},t)},update:function(e,t){return b.put("/articles/".concat(e.slug),{article:e},t)},delete:function(e,t){return b.delete("/articles/".concat(e),t)},get:function(e,t){return b.get("/articles/".concat(e),t)}},Profile:{follow:function(e,t){return b.post("/profiles/".concat(e,"/follow"),t)},get:function(e,t){return b.get("/profiles/".concat(e),t)},unfollow:function(e,t){return b.del("/profiles/".concat(e,"/follow"),t)}}},E=function(){return{type:"LOGIN",payload:v.Auth.current()}},O=function(e,t){return{type:"LOGIN",payload:v.Auth.login(e,t)}},j=function(){return{type:"LOGOUT"}},y=function(e,t,n){return{type:"REGISTER",payload:v.Auth.register(e,t,n)}},w={user:localStorage.getItem("jwt")||null,userInfo:{},loading:!1,error:[]},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;return Object(p.a)(e,function(n){switch(t.type){case"LOGIN_PENDING":case"REGISTER_PENDING":return void(n.loading=!0);case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":var a=t.payload.data.user.token;return v.setToken(a),n.user=a,n.userInfo=t.payload.data.user,n.loading=!1,void(n.error=[]);case"LOGIN_FAILURE":case"REGISTER_FAILURE":var r=t.payload.response.data.errors,c=Object.keys(r).map(function(e){return"".concat(e," ").concat(r[e].join(", "))});return n.loading=!1,void(n.error=c);case"LOGOUT":return v.setToken(null),n.user=null,void(n.userInfo={});default:return e}})},x=Object(m.c)({auth:k}),C=n(98),A=n(105),I=Object(A.a)({promiseTypeSuffixes:["PENDING","SUCCESS","FAILURE"]}),S=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.d,N=Object(m.e)(x,S(Object(m.a)(C.a,I))),T=n(3),L=n(4),P=n(6),D=n(5),U=n(7),_=n(182),G=n(178),F=n(180),R=function(e){return e.history.push({pathname:"/login",state:{prevLocation:e.location.pathname,loginMsg:"\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4"}}),null},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=function(t){function n(e){var t;return Object(T.a)(this,n),t=Object(P.a)(this,Object(D.a)(n).call(this,e)),e.user||R(e),t}return Object(U.a)(n,t),Object(L.a)(n,[{key:"render",value:function(){return c.a.createElement(e,this.props)}}]),n}(r.Component);return Object(s.b)(function(e){return{user:e.auth.user,userInfo:e.auth.userInfo}},function(e){return{authActions:Object(m.b)(a,e)}})(t)},H=n(177),z=n(18),B=n(19);function W(){var e=Object(z.a)(["\n  ul {\n    display: flex;\n    padding: 0;\n  }\n\n  li {\n    list-style: none;\n    margin-right: 30px;\n  }\n"]);return W=function(){return e},e}var J=B.a.header(W()),X=function(e){function t(){return Object(T.a)(this,t),Object(P.a)(this,Object(D.a)(t).apply(this,arguments))}return Object(U.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this.props.user;return c.a.createElement(J,null,c.a.createElement("h1",null,"World"),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(H.a,{to:"/"},"Home")),e?c.a.createElement(c.a.Fragment,null,c.a.createElement("li",null,c.a.createElement(H.a,{to:"/form"},"\uae00\ub4f1\ub85d")),c.a.createElement("li",null,c.a.createElement(H.a,{to:"/Logout"},"\ub85c\uadf8\uc544\uc6c3"))):c.a.createElement(c.a.Fragment,null,c.a.createElement("li",null,c.a.createElement(H.a,{to:"/login"},"\ub85c\uadf8\uc778")),c.a.createElement("li",null,c.a.createElement(H.a,{to:"/join"},"\ud68c\uc6d0\uac00\uc785")))))}}]),t}(r.Component),V=Object(s.b)(function(e){return{user:e.auth.user}},function(e){return{}})(X),q=n(8),K=n.n(q),Q=n(16);function Y(){var e=Object(z.a)(["\n  display: inline-block;\n\n  .link {\n    display: flex;\n    align-items: center;\n    color: #000;\n    text-decoration: none;\n\n    &:hover,\n    &:focus {\n      .name {\n        text-decoration: underline;\n      }\n    }\n  }\n\n  p {\n    margin: 0;\n  }\n\n  .img {\n    flex-shrink: 0;\n    width: 32px;\n    height: 32px;\n    margin-right: 10px;\n    border-radius: 16px;\n    background: #ccc;\n  }\n\n  .con {\n    flex: 1;\n  }\n\n  .name {\n    margin: 0;\n    font-size: 14px;\n  }\n\n  .date {\n    margin: 0;\n    font-size: 11px;\n  }\n"]);return Y=function(){return e},e}var Z=B.a.div(Y()),$=function(e){return c.a.createElement(Z,null,c.a.createElement(H.a,{to:"/@".concat(e.username),className:"link"},c.a.createElement("img",{src:e.image,alt:"",className:"img"}),c.a.createElement("div",{className:"con"},c.a.createElement("p",{className:"name"},e.username),c.a.createElement("p",{className:"date"},new Date(e.createdAt).toDateString()))))};function ee(){var e=Object(z.a)(["\n  padding: 0;\n  border-bottom: 1px solid #ddd;\n\n  p {\n    margin: 0;\n  }\n\n  .article-item {\n    list-style: none;\n    padding: 15px 25px;\n    border-top: 1px solid #ddd;\n\n    &:not(:first-child) {\n      margin-top: 10px;\n    }\n\n    .title {\n      font-weight: bold;\n      font-size: 24px;\n      color: #333;\n\n      a {\n        color: inherit;\n        text-decoration: none;\n\n        &:hover,\n        &:focus {\n          text-decoration: underline;\n        }\n      }\n    }\n\n    .info {\n      text-align: right;\n      font-size: 12px;\n      color: #999;\n    }\n  }\n"]);return ee=function(){return e},e}var te=B.a.ul(ee()),ne=function(e){var t=e.articles;return c.a.createElement(te,null,t.map(function(e){return c.a.createElement("li",{key:e.slug,className:"article-item"},c.a.createElement($,{image:e.author.image,username:e.author.username,createdAt:e.createdAt}),c.a.createElement("p",{className:"title"},c.a.createElement(H.a,{to:"/article/".concat(e.slug)},e.title)),c.a.createElement("p",{className:"desc"},e.description),c.a.createElement("div",{className:"info"},c.a.createElement("span",{className:"tag"},"Tag: ",e.tagList.join(", "))))}))},ae=n(101),re=n.n(ae);function ce(){var e=Object(z.a)(["\n  .pagination {\n    display: flex;\n    justify-content: center;\n    padding: 0;\n  }\n\n  li {\n    margin: 5px;\n    list-style: none;\n  }\n\n  .active {\n    font-weight: bold;\n    color: red;\n  }\n"]);return ce=function(){return e},e}var oe=B.a.div(ce()),le=function(e){var t=e.page,n=void 0===t?1:t,a=e.total,r=void 0===a?1:a,o=e.onChange,l=void 0===o?function(){}:o,i=e.countPerPage,u=void 0===i?10:i,s=e.pageLen,m=void 0===s?5:s;return c.a.createElement(oe,null,c.a.createElement(re.a,{activePage:n,totalItemsCount:r,onChange:l,itemsCountPerPage:u,pageRangeDisplayed:m,innerClass:"pagination",activeLinkClass:"active",firstPageText:"\ucc98\uc74c",prevPageText:"\uc774\uc804",nextPageText:"\ub2e4\uc74c",lastPageText:"\ub9c8\uc9c0\ub9c9"}))},ie=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(P.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).state={articlesCount:0,articles:[],page:1},n.fetchArticles=Object(Q.a)(K.a.mark(function e(){var t,a,r,c,o;return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params.page?n.props.match.params.page-1:0,n.setState(Object(p.a)(function(e){e.page=t+1})),e.prev=2,n.source=v.CancelToken.source(),e.next=6,v.Articles.all(t,n.source);case 6:a=e.sent,r=a.data,c=r.articlesCount,o=r.articles,n.setState(Object(p.a)(function(e){e.articlesCount=c,e.articles=o,e.page=t+1})),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(2);case 14:case"end":return e.stop()}},e,this,[[2,12]])})),n.handlePageChange=function(e){n.props.history.push("/articles/".concat(e))},n}return Object(U.a)(t,e),Object(L.a)(t,[{key:"componentDidUpdate",value:function(e){e.match.params.page!==this.props.match.params.page&&this.fetchArticles()}},{key:"componentDidMount",value:function(){this.fetchArticles()}},{key:"componentWillUnmount",value:function(){this.source.cancel()}},{key:"render",value:function(){var e=this.state,t=e.articlesCount,n=e.articles,a=e.page,r=Math.ceil(t/10);return c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",null,"Home"),c.a.createElement(H.a,{to:"/form"},"\uae00\ub4f1\ub85d"),c.a.createElement("p",null,a," / ",r),c.a.createElement(ne,{articles:n}),c.a.createElement(le,{page:a,total:t,onChange:this.handlePageChange}))}}]),t}(r.Component),ue=n(179),se=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(P.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},n.submitHandle=function(e){var t=n.props,a=t.authActions,r=t.history,c=t.location,o=n.state,l=o.email,i=o.password;a.login(l,i).then(function(){c.state||r.goBack()}),e.preventDefault()},n.changeInput=function(e){return function(t){var a=t.target.value;n.setState(Object(p.a)(function(t){t[e]=a}))}},n}return Object(U.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.loading,a=e.error,r=e.location.state||{prevLocation:{pathname:"/"},loginMsg:""},o=r.prevLocation,l=r.loginMsg;return t?c.a.createElement(ue.a,{to:o}):c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",null,"\ub85c\uadf8\uc778"),""!==l&&c.a.createElement("p",null,l),c.a.createElement("form",{onSubmit:this.submitHandle},c.a.createElement("fieldset",null,c.a.createElement("div",null,c.a.createElement("label",null,"email",c.a.createElement("input",{type:"email",disabled:n,onChange:this.changeInput("email")}))),c.a.createElement("div",null,c.a.createElement("label",null,"password",c.a.createElement("input",{type:"password",disabled:n,onChange:this.changeInput("password")}))),n&&c.a.createElement("div",null,"\ub85c\uadf8\uc778 \uc911..."),a.length>0&&a.map(function(e){return c.a.createElement("div",{key:e},e)}),c.a.createElement("button",{type:"submit",disabled:n},"\ub85c\uadf8\uc778"))))}}]),t}(r.Component),me=Object(s.b)(function(e){return{user:e.auth.user,loading:e.auth.loading,error:e.auth.error}},function(e){return{authActions:Object(m.b)(a,e)}})(se),pe=function(e){function t(e){var n;return Object(T.a)(this,t),n=Object(P.a)(this,Object(D.a)(t).call(this,e)),e.authActions.logout(),e.history.goBack(),n}return Object(U.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){return null}}]),t}(r.Component),de=Object(s.b)(function(e){return{}},function(e){return{authActions:Object(m.b)(a,e)}})(pe),fe=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(P.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",email:"",password:""},n.submitHandle=function(e){var t=n.props.authActions,a=n.state,r=a.username,c=a.email,o=a.password;t.register(r,c,o),e.preventDefault()},n.changeInput=function(e){return function(t){var a=t.target.value;n.setState(Object(p.a)(function(t){t[e]=a}))}},n}return Object(U.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.loading,a=e.error,r=e.history,o=this.state,l=o.username,i=o.email,u=o.password;return t?c.a.createElement(ue.a,{to:"/"}):c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",null,"\ud68c\uc6d0\uac00\uc785"),c.a.createElement("form",{onSubmit:this.submitHandle},c.a.createElement("fieldset",null,c.a.createElement("div",null,c.a.createElement("label",null,"username",c.a.createElement("input",{type:"text",disabled:n,value:l,onChange:this.changeInput("username")}))),c.a.createElement("div",null,c.a.createElement("label",null,"email",c.a.createElement("input",{type:"email",disabled:n,value:i,onChange:this.changeInput("email")}))),c.a.createElement("div",null,c.a.createElement("label",null,"password",c.a.createElement("input",{type:"password",disabled:n,value:u,onChange:this.changeInput("password")}))),n&&c.a.createElement("div",null,"\ud68c\uc6d0\uac00\uc785 \uc911..."),a.length>0&&a.map(function(e){return c.a.createElement("div",{key:e},e)}),c.a.createElement("button",{type:"submit",disabled:n},"\ud68c\uc6d0\uac00\uc785")," ",c.a.createElement("button",{type:"button",disabled:n,onClick:r.goBack},"\ucde8\uc18c"))))}}]),t}(r.Component),he=Object(s.b)(function(e){return{user:e.auth.user,loading:e.auth.loading,error:e.auth.error}},function(e){return{authActions:Object(m.b)(a,e)}})(fe),ge=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(P.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,sending:!1,slug:"",title:"",description:"",body:"",tag:""},n.fetchArticles=function(){var e=Object(Q.a)(K.a.mark(function e(t){var a,r,c,o,l,i;return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState(Object(p.a)(function(e){e.loading=!0})),e.prev=1,n.source=v.CancelToken.source(),a=n.props,r=a.history,c=a.userInfo,e.next=6,v.Articles.get(t,n.source);case 6:if(o=e.sent,l=o.data,(i=l.article).author.username===c.username){e.next=13;break}return alert("\uc218\uc815 \uad8c\ud55c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."),r.goBack(),e.abrupt("return");case 13:n.setState(Object(p.a)(function(e){e.loading=!1,e.slug=i.slug,e.title=i.title,e.description=i.description,e.body=i.body,e.tag=i.tagList.join(", ")})),e.next=18;break;case 16:e.prev=16,e.t0=e.catch(1);case 18:case"end":return e.stop()}},e,this,[[1,16]])}));return function(t){return e.apply(this,arguments)}}(),n.submitHandle=function(e){var t=n.props,a=t.history,r=t.match,c=n.state,o=c.slug,l=c.title,i=c.description,u=c.body,s=c.tag,m=s.length?s.split(",").map(function(e){return e.trim()}):[];n.setState(Object(p.a)(function(e){e.sending=!0}));var d=r.params.slug?"update":"create";v.Articles[d]({slug:o,title:l,description:i,body:u,tagList:m}).then(function(e){n.setState(Object(p.a)(function(e){e.sending=!1})),a.push("/article/".concat(e.data.article.slug))}).catch(function(e){alert("\ub4f1\ub85d\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4"),n.setState(Object(p.a)(function(e){e.sending=!1}))}),e.preventDefault()},n.changeInput=function(e){return function(t){var a=t.target.value;n.setState(Object(p.a)(function(t){t[e]=a}))}},n}return Object(U.a)(t,e),Object(L.a)(t,[{key:"componentDidUpdate",value:function(e){e.match.params.slug!==this.props.match.params.slug&&(this.props.match.params.slug?this.fetchArticles(this.props.match.params.slug):this.setState(Object(p.a)(function(e){e.loading=!1,e.sending=!1,e.slug="",e.title="",e.description="",e.body="",e.tag=""})))}},{key:"componentDidMount",value:function(){var e=this.props.match.params;e&&e.slug&&this.fetchArticles(e.slug)}},{key:"componentWillUnmount",value:function(){this.source&&this.source.cancel()}},{key:"render",value:function(){var e=this.props.history,t=this.state,n=t.loading,a=t.sending,r=t.slug,o=t.title,l=t.description,i=t.body,u=t.tag;return n?c.a.createElement("div",null):c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",null,r?"\uae00 \uc218\uc815\ud558\uae30":"\uae00 \ub4f1\ub85d\ud558\uae30"),c.a.createElement("form",{onSubmit:this.submitHandle},c.a.createElement("fieldset",null,c.a.createElement("div",null,c.a.createElement("label",null,"\uc81c\ubaa9",c.a.createElement("input",{type:"text",disabled:a,value:o,onChange:this.changeInput("title")}))),c.a.createElement("div",null,c.a.createElement("label",null,"\uc124\uba85",c.a.createElement("input",{type:"text",disabled:a,value:l,onChange:this.changeInput("description")}))),c.a.createElement("div",null,c.a.createElement("label",null,"\ub0b4\uc6a9",c.a.createElement("textarea",{cols:"60",rows:"10",disabled:a,value:i,onChange:this.changeInput("body")}))),c.a.createElement("div",null,c.a.createElement("label",null,"\ud0dc\uadf8",c.a.createElement("input",{type:"text",disabled:a,value:u,onChange:this.changeInput("tag")}))),a&&c.a.createElement("div",null,"\ub4f1\ub85d \uc911..."),c.a.createElement("button",{type:"submit",disabled:a},"\ub4f1\ub85d")," ",c.a.createElement("button",{type:"button",disabled:a,onClick:e.goBack},"\ucde8\uc18c"))))}}]),t}(r.Component),be=n(106),ve=n(102),Ee=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(P.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).state={article:{author:{},tagList:[]}},n.fetchArticles=Object(Q.a)(K.a.mark(function e(){var t,a,r;return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.props.match.params.slug,e.next=3,v.Articles.get(t);case 3:a=e.sent,r=a.data,n.setState(Object(p.a)(function(e){e.article=Object(be.a)({},r.article,{body:ve.markdown.toHTML(r.article.body)})}));case 6:case"end":return e.stop()}},e,this)})),n.delete=Object(Q.a)(K.a.mark(function e(){var t,a;return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state.article.slug,a=n.props.history,!window.confirm("\uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){e.next=12;break}return e.prev=3,e.next=6,v.Articles.delete(t);case 6:a.goBack(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(3),alert("\uc0ad\uc81c \uad8c\ud55c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4.");case 12:case"end":return e.stop()}},e,this,[[3,9]])})),n}return Object(U.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){this.fetchArticles()}},{key:"render",value:function(){var e=this.props.history,t=this.state.article;return c.a.createElement(c.a.Fragment,null,c.a.createElement("h2",null,t.title),c.a.createElement("p",{className:"desc"},"\uc124\uba85: ",t.description),c.a.createElement($,{image:t.author.image,username:t.author.username,createdAt:t.createdAt}),c.a.createElement("ul",{className:"info"},c.a.createElement("li",{className:"tag"},"Tag: ",t.tagList.join(", "))),c.a.createElement("h3",null,"\ub0b4\uc6a9"),c.a.createElement("div",{className:"body",dangerouslySetInnerHTML:{__html:t.body}}),c.a.createElement("hr",null),c.a.createElement("div",null,c.a.createElement("button",{type:"button",onClick:function(){return e.push("/form/".concat(t.slug))}},"\uc218\uc815")," ",c.a.createElement("button",{type:"button",onClick:this.delete},"\uc0ad\uc81c")," ",c.a.createElement("button",{type:"button",onClick:e.goBack},"\ubaa9\ub85d")))}}]),t}(r.Component),Oe=Object(s.b)(function(e){return{userInfo:e.auth.userInfo}},function(e){return{}})(Ee);function je(){var e=Object(z.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 50px 20px 30px;\n  background: #ebedee;\n\n  p {\n    margin: 0;\n  }\n\n  .img {\n    width: 110px;\n    height: 110px;\n    margin-bottom: 10px;\n    border-radius: 55px;\n    background: #ccc;\n  }\n\n  .username {\n    margin: 0;\n    font-weight: bold;\n    font-size: 26px;\n    color: #222;\n  }\n\n  .bio {\n    margin-top: 10px;\n    font-size: 14px;\n    color: #999;\n  }\n\n  .action {\n    width: 100%;\n    margin-top: 20px;\n    padding-top: 20px;\n    text-align: center;\n    border-top: 1px solid #ccc;\n\n    button {\n      padding: 10px 20px;\n    }\n  }\n"]);return je=function(){return e},e}var ye=B.a.div(je()),we=function(e){var t=e.profile,n=e.follow,a=e.unfollow;return c.a.createElement(ye,null,c.a.createElement("img",{src:t.image,alt:"",className:"img"}),c.a.createElement("h2",{className:"username"},t.username),c.a.createElement("p",{className:"bio"},t.bio),(n||a)&&c.a.createElement("div",{className:"action"},n&&c.a.createElement("button",{type:"button",onClick:n},"Follow ",t.username),a&&c.a.createElement("button",{type:"button",onClick:a},"Unfollow ",t.username)))},ke=function(e){function t(){var e,n;Object(T.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(P.a)(this,(e=Object(D.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,username:"",image:"",bio:"",following:!1},n.getProfile=function(){var e=Object(Q.a)(K.a.mark(function e(t){var a,r;return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.source=v.CancelToken.source(),e.next=4,v.Profile.get(t,n.source);case 4:a=e.sent,r=a.data.profile,n.setState(Object(p.a)(function(e){e.loading=!1,e.username=r.username,e.image=r.image,e.bio=r.bio,e.following=r.following})),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}},e,this,[[0,9]])}));return function(t){return e.apply(this,arguments)}}(),n.followAction=function(){var e=Object(Q.a)(K.a.mark(function e(t){var a,r,c,o;return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.props.user,r=n.state.username,a){e.next=5;break}return R(n.props),e.abrupt("return");case 5:return e.next=7,v.Profile[t?"unfollow":"follow"](r);case 7:c=e.sent,o=c.data.profile,n.setState(Object(p.a)(function(e){e.following=o.following}));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n.follow=Object(Q.a)(K.a.mark(function e(){return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.followAction(!1);case 1:case"end":return e.stop()}},e,this)})),n.unfollow=Object(Q.a)(K.a.mark(function e(){return K.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n.followAction(!0);case 1:case"end":return e.stop()}},e,this)})),n}return Object(U.a)(t,e),Object(L.a)(t,[{key:"componentDidMount",value:function(){this.getProfile(this.props.match.params.username)}},{key:"componentWillUnmount",value:function(){this.source.cancel()}},{key:"render",value:function(){var e=this.props.userInfo,t=this.state,n=t.loading,a=t.username,r=t.bio,o=t.image,l=t.following,i=a!==e.username,u=i&&!1===l,s=i&&!0===l;return c.a.createElement(c.a.Fragment,null,n?c.a.createElement("div",null,"loading..."):c.a.createElement(we,{profile:{username:a,bio:r,image:o,following:l},follow:u?this.follow:null,unfollow:s?this.unfollow:null}))}}]),t}(r.Component),xe=Object(s.b)(function(e){return{user:e.auth.user,userInfo:e.auth.userInfo}},function(e){return{}})(ke),Ce=function(e){function t(e){var n;Object(T.a)(this,t),n=Object(P.a)(this,Object(D.a)(t).call(this,e));var a=localStorage.getItem("jwt");return a&&(v.setToken(a),e.authActions.init()),n}return Object(U.a)(t,e),Object(L.a)(t,[{key:"render",value:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(V,null),c.a.createElement("hr",null),c.a.createElement(_.a,null,c.a.createElement(G.a,{exact:!0,path:"/",component:ie}),c.a.createElement(G.a,{path:"/articles/:page",component:ie}),c.a.createElement(G.a,{exact:!0,path:"/login",component:me}),c.a.createElement(G.a,{exact:!0,path:"/logout",component:de}),c.a.createElement(G.a,{exact:!0,path:"/join",component:he}),c.a.createElement(G.a,{path:"/article/:slug",component:Oe}),c.a.createElement(G.a,{exact:!0,path:"/form",component:M(ge)}),c.a.createElement(G.a,{path:"/form/:slug",component:M(ge)}),c.a.createElement(G.a,{path:"/@:username",component:xe}),c.a.createElement(G.a,{component:ie})))}}]),t}(r.Component),Ae=Object(F.a)(Object(s.b)(function(e){return{user:e.auth.user}},function(e){return{authActions:Object(m.b)(a,e)}})(Ce)),Ie=Object(u.a)({basename:"/world"});l.a.render(c.a.createElement(s.a,{store:N},c.a.createElement(i.a,{history:Ie},c.a.createElement(Ae,null))),document.getElementById("root"))}},[[107,2,1]]]);