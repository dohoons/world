(window.webpackJsonp=window.webpackJsonp||[]).push([[6,18],{121:function(e,a,t){"use strict";t.r(a);var l=t(165),n=t(49),r=t(96),s=t(0),c=t.n(s),m=t(528),i=t(35),o=t(52),u=t(163),d=t(540),p=t.n(d),f=t(81),b=t(545),E=t(248);a.default=Object(m.hot)(function(e){var a=e.history,t=Object(o.c)("profileEdit").t,m=Object(b.a)(),d=Object(i.c)(function(e){return e.auth},[]),g=d.userInfo,h=d.loading,N=d.error,v=Object(i.b)(),w=Object(s.useState)({}),y=Object(r.a)(w,2),j=y[0],O=y[1],k=Object(s.useState)({image:g.image,username:g.username,bio:g.bio,email:g.email,password:""}),x=Object(r.a)(k,2),C=x[0],L=x[1],P=C.image,S=C.username,U=C.bio,B=C.email,J=C.password;Object(s.useEffect)(function(){return function(){v(f.f())}},[v,g]);var D=function(e){return function(a){L(Object(n.a)({},C,Object(l.a)({},e,a.target.value)))}};return c.a.createElement(E.default,{className:"container"},c.a.createElement(u.Helmet,{title:t("heading")}),c.a.createElement("div",{className:"common-form"},c.a.createElement("h2",{className:"form-title"},t("heading")),c.a.createElement("form",{onSubmit:function(e){if(O({}),function(){var e={};return p.a.isEmpty(S)?e.username=t("validate:emptyUsername"):p.a.isLength(S,{min:1,max:20})||(e.username=t("validate:lengthUsername")),p.a.isEmpty(B)?e.email=t("validate:emptyEmail"):p.a.isEmail(B)||(e.email=t("validate:notEmail")),p.a.isEmpty(J)||p.a.isLength(J,{min:8})||(e.password=t("validate:lengthPassword")),0===Object.keys(e).length||(O(e),!1)}()){var l=Object(n.a)({image:P,bio:U,email:B},S!==g.username&&{username:S},""!==J&&{password:J});v(f.g({user:l})).then(function(){void 0===l.username?m():a.push("/@".concat(l.username))}).catch(console.log)}e.preventDefault()}},c.a.createElement("fieldset",null,c.a.createElement("div",{className:"form-row"},c.a.createElement("label",null,c.a.createElement("span",{className:"form-head"},t("image")),c.a.createElement("input",{type:"text",placeholder:t("imageURL"),className:"txt large block",disabled:h,value:P,onChange:D("image")})),j.image&&c.a.createElement("p",{className:"input-error"},c.a.createElement("i",{className:"fas fa-times-circle"})," ",j.image)),c.a.createElement("div",{className:"form-row"},c.a.createElement("label",null,c.a.createElement("span",{className:"form-head"},t("username")),c.a.createElement("input",{type:"text",placeholder:t("username"),className:"txt large block",disabled:h,value:S,onChange:D("username")})),j.username&&c.a.createElement("p",{className:"input-error"},c.a.createElement("i",{className:"fas fa-times-circle"})," ",j.username)),c.a.createElement("div",{className:"form-row"},c.a.createElement("label",null,c.a.createElement("span",{className:"form-head"},t("bio")),c.a.createElement("textarea",{cols:"60",rows:"10",placeholder:t("bio"),className:"txt large block",disabled:h,value:U,onChange:D("bio")})),j.bio&&c.a.createElement("p",{className:"input-error"},c.a.createElement("i",{className:"fas fa-times-circle"})," ",j.bio)),c.a.createElement("div",{className:"form-row"},c.a.createElement("label",null,c.a.createElement("span",{className:"form-head"},t("email")),c.a.createElement("input",{type:"text",placeholder:t("email"),className:"txt large block",disabled:h,value:B,onChange:D("email")})),j.email&&c.a.createElement("p",{className:"input-error"},c.a.createElement("i",{className:"fas fa-times-circle"})," ",j.email)),c.a.createElement("div",{className:"form-row"},c.a.createElement("label",null,c.a.createElement("span",{className:"form-head"},t("newPassword")),c.a.createElement("input",{type:"password",placeholder:t("newPassword"),className:"txt large block",disabled:h,value:J,onChange:D("password")})),j.password&&c.a.createElement("p",{className:"input-error"},c.a.createElement("i",{className:"fas fa-times-circle"})," ",j.password)),h&&c.a.createElement("div",null,t("sending")),N.length>0&&N.map(function(e){return c.a.createElement("p",{className:"input-error",key:e},c.a.createElement("i",{className:"fas fa-times-circle"})," ",e)}),c.a.createElement("div",{className:"form-action"},c.a.createElement("button",{type:"submit",className:"btn large primary",disabled:h},t("common:modify"))," ",c.a.createElement("button",{type:"button",className:"btn large",disabled:h,onClick:a.goBack},t("common:cancel")))))))})},248:function(e,a,t){"use strict";t.r(a);var l=t(94),n=t(95);function r(){var e=Object(l.a)(["\n"]);return r=function(){return e},e}a.default=n.a.div(r())},545:function(e,a,t){"use strict";var l=t(169),n=t(122);a.a=function(){var e=Object(l.useLastLocation)();return function(){e?n.history.push(e.pathname):n.history.goBack()}}}}]);