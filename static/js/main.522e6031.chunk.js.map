{"version":3,"sources":["api/index.js","store/modules/auth.js","store/modules/index.js","store/index.js","components/Header.js","pages/Home.js","pages/Login.js","pages/Logout.js","pages/Join.js","App.js","index.js"],"names":["API_ROOT","setToken","token","arguments","length","undefined","window","localStorage","setItem","http","defaults","headers","common","concat","removeItem","getItem","req","url","del","get","body","put","post","api","Auth","current","login","email","password","user","register","username","save","Articles","all","page","count","limit","create","article","Profile","follow","unfollow","userid","type","payload","API","logout","resetAuth","initialState","loading","error","auth","state","action","produce","draft","data","errors","response","msg","Object","keys","map","k","join","combineReducers","customizedPromiseMiddleware","promiseMiddleware","promiseTypeSuffixes","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","modules","applyMiddleware","ReduxThunk","Header","this","props","react_default","a","createElement","Link","to","Fragment","Component","connect","dispatch","Home","articlesCount","articles","fetchArticles","_callee","_ref2","regenerator_default","wrap","_context","prev","next","sent","_this","setState","stop","testCreate","title","Date","description","tagList","then","console","log","alert","_this$state","onClick","v","key","slug","className","author","updatedAt","Login","submitHandle","e","authActions","preventDefault","changeInput","name","value","target","defineProperty","_this$props","Redirect","onSubmit","disabled","onChange","err","bindActionCreators","Logout","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","Join","_this$state2","App","components_Header","Switch","Route","exact","path","component","ReactDOM","render","es","BrowserRouter","basename","process","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.522e6031.chunk.js","sourcesContent":["import http from 'axios'\r\n\r\nconst API_ROOT = 'https://conduit.productionready.io/api'\r\n\r\n// const encode = encodeURIComponent\r\n// const responseBody = res => res.data\r\n\r\nconst setToken = (token = null) => {\r\n  if(token) {\r\n    window.localStorage.setItem('jwt', token)\r\n    http.defaults.headers.common['Authorization'] = `Token ${token}`\r\n  } else {\r\n    window.localStorage.removeItem('jwt')\r\n    delete http.defaults.headers.common['Authorization']\r\n  }\r\n}\r\n\r\nconst token = localStorage.getItem('jwt')\r\n\r\nif(token) {\r\n  setToken(token)\r\n}\r\n\r\nconst req = {\r\n  del: url =>\r\n    http.del(`${API_ROOT}${url}`),\r\n  get: url =>\r\n    http.get(`${API_ROOT}${url}`),\r\n  put: (url, body) =>\r\n    http.put(`${API_ROOT}${url}`, body),\r\n  post: (url, body) =>\r\n    http.post(`${API_ROOT}${url}`, body),\r\n}\r\n\r\nconst Auth = {\r\n  current: () =>\r\n    req.get('/user'),\r\n  login: (email, password) =>\r\n    req.post('/users/login', { user: { email, password } }),\r\n  register: (username, email, password) =>\r\n    req.post('/users', { user: { username, email, password } }),\r\n  save: user =>\r\n    req.put('/user', { user })\r\n}\r\n\r\nconst limit = (count, page) => `limit=${count}&offset=${page ? page * count : 0}`\r\nconst Articles = {\r\n  all: page =>\r\n    req.get(`/articles?${limit(10, page)}`),\r\n  create: article =>\r\n    req.post('/articles', { article }),\r\n}\r\n\r\nconst Profile = {\r\n  follow: username =>\r\n    req.post(`/profiles/${username}/follow`),\r\n  get: username =>\r\n    req.get(`/profiles/${username}`),\r\n  unfollow: username =>\r\n    req.del(`/profiles/${username}/follow`)\r\n}\r\n\r\nexport default {\r\n  setToken,\r\n  Auth,\r\n\tArticles,\r\n  Profile,\r\n}","import produce from \"immer\"\r\nimport API from 'api'\r\n\r\nconst LOGIN = 'LOGIN'\r\nconst LOGIN_PENDING = 'LOGIN_PENDING'\r\nconst LOGIN_SUCCESS = 'LOGIN_SUCCESS'\r\nconst LOGIN_FAILURE = 'LOGIN_FAILURE'\r\nconst LOGOUT = 'LOGOUT'\r\nconst REGISTER = 'REGISTER'\r\nconst REGISTER_PENDING = 'REGISTER_PENDING'\r\nconst REGISTER_SUCCESS = 'REGISTER_SUCCESS'\r\nconst REGISTER_FAILURE = 'REGISTER_FAILURE'\r\nconst RESET_AUTH = 'RESET_AUTH'\r\n\r\nexport const login = (userid, password) => ({\r\n  type: LOGIN,\r\n  payload: API.Auth.login(userid, password)\r\n})\r\n\r\nexport const logout = () => ({\r\n    type: LOGOUT\r\n})\r\n\r\nexport const register = (username, email, password) => ({\r\n  type: REGISTER,\r\n  payload: API.Auth.register(username, email, password)\r\n})\r\n\r\nexport const resetAuth = () => ({\r\n    type: RESET_AUTH\r\n})\r\n\r\nconst initialState = {\r\n  user: localStorage.getItem('jwt') || null,\r\n  loading: false,\r\n  error: [],\r\n}\r\n\r\nexport default (state = initialState, action) => {\r\n  return produce(state, draft => {\r\n    switch (action.type) {\r\n      case LOGIN_PENDING:\r\n      case REGISTER_PENDING:\r\n        draft.loading = true\r\n        return\r\n      \r\n      case LOGIN_SUCCESS:\r\n      case REGISTER_SUCCESS:\r\n        const { token } = action.payload.data.user\r\n        API.setToken(token)\r\n        draft.user = token\r\n        draft.loading = false\r\n        draft.error = []\r\n        return\r\n\r\n      case LOGIN_FAILURE:\r\n      case REGISTER_FAILURE:\r\n        const errors = action.payload.response.data.errors\r\n        const msg = Object.keys(errors).map(k => {\r\n          return `${k} ${errors[k].join(', ')}`\r\n        })\r\n\r\n        draft.loading = false\r\n        draft.error = msg\r\n        return\r\n\r\n      case LOGOUT:\r\n        API.setToken(null)\r\n        draft.user = false\r\n        return\r\n\r\n      case RESET_AUTH:\r\n        draft.loading = false\r\n        draft.error = []\r\n        return\r\n\r\n      default:\r\n        return state\r\n    }\r\n  })\r\n}","import { combineReducers } from 'redux'\r\nimport auth from './auth'\r\n\r\nexport default combineReducers({\r\n  auth\r\n})","import { createStore, compose, applyMiddleware } from 'redux'\r\nimport modules from './modules'\r\n\r\n// import { createLogger } from 'redux-logger'\r\nimport ReduxThunk from 'redux-thunk'\r\nimport promiseMiddleware from 'redux-promise-middleware'\r\n\r\n// const logger = createLogger()\r\nconst customizedPromiseMiddleware = promiseMiddleware({\r\n    promiseTypeSuffixes: ['PENDING', 'SUCCESS', 'FAILURE']\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\r\n\r\nconst store = createStore(\r\n  modules,\r\n  composeEnhancers(\r\n    applyMiddleware(\r\n      // logger,\r\n      ReduxThunk,\r\n      customizedPromiseMiddleware,\r\n    )\r\n  )\r\n)\r\n\r\nexport default store","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom';\r\nimport { connect } from 'react-redux'\r\n\r\nclass Header extends Component {\r\n  render() {\r\n    const { user } = this.props\r\n\r\n    return (\r\n      <header>\r\n        <h1>World</h1>\r\n        <ul>\r\n          <li>\r\n            <Link to=\"/\">Home</Link>\r\n          </li>\r\n          {\r\n            user ?\r\n            <>\r\n              <li>\r\n                <Link to=\"/write\">글등록</Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/Logout\">로그아웃</Link>\r\n              </li>\r\n            </>\r\n            :\r\n            <>\r\n              <li>\r\n                <Link to=\"/login\">로그인</Link>\r\n              </li>\r\n              <li>\r\n                <Link to=\"/join\">회원가입</Link>\r\n              </li>\r\n            </>\r\n          }\r\n        </ul>\r\n      </header>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.auth.user,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Header)\r\n","import React, { Component } from 'react'\r\nimport { connect } from 'react-redux'\r\nimport API from 'api'\r\n\r\nclass Home extends Component {\r\n  state = {\r\n    articlesCount: 0,\r\n    articles: []\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchArticles()\r\n  }\r\n  \r\n  fetchArticles = async () => {\r\n    const { data } = await API.Articles.all()\r\n    const { articlesCount, articles } = data\r\n    \r\n    this.setState(() => ({\r\n     articlesCount,\r\n     articles\r\n    }))\r\n  }\r\n\r\n  testCreate = () => {\r\n    const { user } = this.props\r\n\r\n    if(!user) {\r\n      alert('로그인이 필요합니다')\r\n      return\r\n    }\r\n\r\n    API.Articles.create({\r\n      title: new Date(),\r\n      description: 'test article',\r\n      body: 'test content test content test content test content',\r\n      tagList: [],\r\n    }).then(data => {\r\n      console.log(data)\r\n      this.fetchArticles()\r\n    })\r\n\r\n  }\r\n\r\n  render() {\r\n    const { articlesCount, articles } = this.state\r\n\r\n    return (\r\n      <>\r\n        <h2>Home</h2>\r\n\r\n        <div>\r\n          <button type=\"button\" onClick={this.testCreate}>테스트 글쓰기(로그인 필요)</button>\r\n        </div>\r\n\r\n        <p>total : {articlesCount}</p>\r\n\r\n        <ul>\r\n          {\r\n            articles.map(v => (\r\n              <li key={v.slug}>\r\n                <p className=\"title\">제목 : {v.title}</p>\r\n                <p className=\"desc\">{v.description}</p>\r\n                <div className=\"info\">\r\n                  <span className=\"author\">작성자: {v.author.username}</span>{' '}\r\n                  <span className=\"date\">작성일: {v.updatedAt}</span>{' '}\r\n                  <span className=\"tag\">Tag: {v.tagList.join(', ')}</span>\r\n                </div>\r\n              </li>\r\n            ))\r\n          }\r\n        </ul>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.auth.user,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Home)","import React, { Component } from 'react'\r\nimport { Redirect } from 'react-router-dom';\r\nimport { bindActionCreators } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport * as authActions from 'store/modules/auth'\r\n\r\nclass Login extends Component {\r\n  state = {\r\n    email: '',\r\n    password: ''\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { authActions } = this.props\r\n    authActions.resetAuth()\r\n  }\r\n\r\n  submitHandle = (e) => {\r\n    const { authActions } = this.props\r\n    const { email, password } = this.state\r\n\r\n    authActions.login(email, password)\r\n\r\n    e.preventDefault()\r\n  }\r\n\r\n  changeInput = name => e => {\r\n    const { value } = e.target\r\n    this.setState(() => ({\r\n      [name]: value\r\n    }))\r\n  }\r\n  \r\n  render() {\r\n    const { user, loading, error } = this.props\r\n\r\n    return user ?\r\n      <Redirect to=\"/\" />\r\n      :\r\n      (\r\n        <>\r\n          <h2>로그인</h2>\r\n          <form onSubmit={this.submitHandle}>\r\n            <fieldset>\r\n              <div>\r\n                <label>\r\n                  email\r\n                  <input type=\"email\" disabled={loading} onChange={this.changeInput('email')} />\r\n                </label>\r\n              </div>\r\n              <div>\r\n                <label>\r\n                  password\r\n                  <input type=\"password\" disabled={loading} onChange={this.changeInput('password')} />\r\n                </label>\r\n              </div>\r\n              { loading && <div>로그인 중...</div> }\r\n              { error.length > 0 && error.map(err => <div key={err}>{err}</div>) }\r\n              <button type=\"submit\" disabled={loading}>로그인</button>\r\n            </fieldset>\r\n          </form>\r\n        </>\r\n      )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.auth.user,\r\n  loading: state.auth.loading,\r\n  error: state.auth.error,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  authActions: bindActionCreators(authActions, dispatch)\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)","import React, { Component } from 'react'\r\nimport { Redirect } from 'react-router-dom';\r\nimport { bindActionCreators } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport * as authActions from 'store/modules/auth'\r\n\r\nclass Logout extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    props.authActions.logout()\r\n  }\r\n  \r\n  render() {\r\n    return <Redirect to=\"/\" />\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  authActions: bindActionCreators(authActions, dispatch)\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Logout)","import React, { Component } from 'react'\r\nimport { Redirect } from 'react-router-dom';\r\nimport { bindActionCreators } from 'redux'\r\nimport { connect } from 'react-redux'\r\nimport * as authActions from 'store/modules/auth'\r\n\r\nclass Join extends Component {\r\n  state = {\r\n    username: '',\r\n    email: '',\r\n    password: ''\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    const { authActions } = this.props\r\n    authActions.resetAuth()\r\n  }\r\n\r\n  submitHandle = (e) => {\r\n    const { authActions } = this.props\r\n    const { username, email, password } = this.state\r\n\r\n    authActions.register(username, email, password)\r\n\r\n    e.preventDefault()\r\n  }\r\n\r\n  changeInput = name => e => {\r\n    const { value } = e.target\r\n    this.setState(() => ({\r\n      [name]: value\r\n    }))\r\n  }\r\n\r\n  render() {\r\n    const { user, loading, error } = this.props\r\n    const { username, email, password } = this.state\r\n\r\n    return user ?\r\n      <Redirect to=\"/\" />\r\n      :\r\n      (\r\n        <>\r\n          <h2>회원가입</h2>\r\n          <form onSubmit={this.submitHandle}>\r\n            <fieldset>\r\n              <div>\r\n                <label>\r\n                  username\r\n                  <input type=\"text\" disabled={loading} value={username} onChange={this.changeInput('username')} />\r\n                </label>\r\n              </div>\r\n              <div>\r\n                <label>\r\n                  email\r\n                  <input type=\"email\" disabled={loading} value={email} onChange={this.changeInput('email')} />\r\n                </label>\r\n              </div>\r\n              <div>\r\n                <label>\r\n                  password\r\n                  <input type=\"password\" disabled={loading} value={password} onChange={this.changeInput('password')} />\r\n                </label>\r\n              </div>\r\n              { loading && <div>회원가입 중...</div> }\r\n              { error.length > 0 && error.map(err => <div key={err}>{err}</div>) }\r\n              <button type=\"submit\" disabled={loading}>회원가입</button>{' '}\r\n              <button type=\"button\" disabled={loading}>취소</button>\r\n            </fieldset>\r\n          </form>\r\n        </>\r\n      )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  user: state.auth.user,\r\n  loading: state.auth.loading,\r\n  error: state.auth.error,\r\n})\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n  authActions: bindActionCreators(authActions, dispatch)\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Join)","import React, { Component } from 'react'\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\nimport Header from 'components/Header'\r\n\r\nimport Home from 'pages/Home'\r\nimport Login from 'pages/Login'\r\nimport Logout from 'pages/Logout'\r\nimport Join from 'pages/Join'\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <>\r\n        <Header />\r\n        <Switch>\r\n          <Route exact path=\"/\" component={Home} />\r\n          <Route exact path=\"/login\" component={Login} />\r\n          <Route exact path=\"/logout\" component={Logout} />\r\n          <Route exact path=\"/join\" component={Join} />\r\n        </Switch>\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { BrowserRouter as Router } from 'react-router-dom';\r\nimport { Provider } from 'react-redux'\r\n\r\nimport store from 'store'\r\nimport App from 'App'\r\n\r\nReactDOM.render(\r\n  <Provider store={store}>\r\n    <Router basename={process.env.PUBLIC_URL}>\r\n      <App />\r\n    </Router>\r\n  </Provider>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}