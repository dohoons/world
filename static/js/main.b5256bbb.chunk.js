(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,n){e.exports=n(166)},14:function(e,t,n){"use strict";var a=n(15),r=n.n(a),o=r.a.CancelToken,c="https://conduit.productionready.io/api",u={delete:function(e,t){return r.a.delete("".concat(c).concat(e),t?{cancelToken:t.token}:{})},get:function(e,t){return r.a.get("".concat(c).concat(e),t?{cancelToken:t.token}:{})},put:function(e,t,n){return r.a.put("".concat(c).concat(e),t,n?{cancelToken:n.token}:{})},post:function(e,t,n){return r.a.post("".concat(c).concat(e),t,n?{cancelToken:n.token}:{})}},l={current:function(e){return u.get("/user",e)},login:function(e,t,n){return u.post("/users/login",{user:{email:e,password:t}},n)},register:function(e,t,n,a){return u.post("/users",{user:{username:e,email:t,password:n}},a)},save:function(e,t){return u.put("/user",{user:e},t)}},i={all:function(e,t){return u.get("/articles?".concat(function(e,t){return"limit=".concat(e,"&offset=").concat(t?t*e:0)}(10,e)),t)},create:function(e,t){return u.post("/articles",{article:e},t)},update:function(e,t){return u.put("/articles/".concat(e.slug),{article:e},t)},delete:function(e,t){return u.delete("/articles/".concat(e),t)},get:function(e,t){return u.get("/articles/".concat(e),t)}},s={follow:function(e,t){return u.post("/profiles/".concat(e,"/follow"),t)},get:function(e,t){return u.get("/profiles/".concat(e),t)},unfollow:function(e,t){return u.del("/profiles/".concat(e,"/follow"),t)}};t.a={CancelToken:o,setToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(window.localStorage.setItem("jwt",e),r.a.defaults.headers.common.Authorization="Token ".concat(e)):(window.localStorage.removeItem("jwt"),delete r.a.defaults.headers.common.Authorization)},Auth:l,Articles:i,Profile:s}},166:function(e,t,n){"use strict";n.r(t);n(106);var a=n(0),r=n.n(a),o=n(40),c=n.n(o),u=n(192),l=n(39),i=n(12),s=n(6),f=n(28),d=Object(s.c)({auth:f.default}),m=n(99),p=n(103),h=Object(p.a)({promiseTypeSuffixes:["PENDING","SUCCESS","FAILURE"]}),E=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,g=Object(s.e)(d,E(Object(s.a)(m.a,h))),b=n(22),O=n(23),j=n(25),v=n(24),I=n(26),w=n(194),y=n(184),k=n(193),S=n(14),T=n(96),G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=function(t){function n(e){var t;return Object(b.a)(this,n),t=Object(j.a)(this,Object(v.a)(n).call(this,e)),e.user||Object(T.a)(e),t}return Object(I.a)(n,t),Object(O.a)(n,[{key:"render",value:function(){return r.a.createElement(e,this.props)}}]),n}(a.Component);return Object(i.b)(function(e){return{user:e.auth.user,userInfo:e.auth.userInfo}},function(e){return{authActions:Object(s.b)(f,e)}})(t)},L=n(183),A=n(66);function N(){var e=Object(A.a)(["\n  ul {\n    display: flex;\n    padding: 0;\n  }\n\n  li {\n    list-style: none;\n    margin-right: 30px;\n  }\n"]);return N=function(){return e},e}var _=n(67).a.header(N()),C=function(e){function t(){return Object(b.a)(this,t),Object(j.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(I.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement(_,null,r.a.createElement("h1",null,"World"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(L.a,{to:"/"},"Home")),e?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(L.a,{to:"/form"},"\uae00\ub4f1\ub85d")),r.a.createElement("li",null,r.a.createElement(L.a,{to:"/Logout"},"\ub85c\uadf8\uc544\uc6c3"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(L.a,{to:"/login"},"\ub85c\uadf8\uc778")),r.a.createElement("li",null,r.a.createElement(L.a,{to:"/join"},"\ud68c\uc6d0\uac00\uc785")))))}}]),t}(a.Component),R=Object(i.b)(function(e){return{user:e.auth.user}},function(e){return{}})(C),x=n(16),U=n.n(x),P=function(){return r.a.createElement("div",null,"Loading...")},F=U()({loader:function(){return Promise.all([n.e(10),n.e(1)]).then(n.bind(null,190))},loading:P}),D=U()({loader:function(){return n.e(2).then(n.bind(null,185))},loading:P}),z=U()({loader:function(){return n.e(3).then(n.bind(null,186))},loading:P}),J=U()({loader:function(){return n.e(4).then(n.bind(null,187))},loading:P}),M=U()({loader:function(){return n.e(5).then(n.bind(null,188))},loading:P}),X=U()({loader:function(){return Promise.all([n.e(9),n.e(6)]).then(n.bind(null,189))},loading:P}),B=U()({loader:function(){return n.e(7).then(n.bind(null,191))},loading:P}),H=function(e){function t(e){var n;Object(b.a)(this,t),n=Object(j.a)(this,Object(v.a)(t).call(this,e));var a=localStorage.getItem("jwt");return a&&(S.a.setToken(a),e.authActions.init()),n}return Object(I.a)(t,e),Object(O.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(R,null),r.a.createElement("hr",null),r.a.createElement(w.a,null,r.a.createElement(y.a,{exact:!0,path:"/",component:F}),r.a.createElement(y.a,{path:"/articles/:page",component:F}),r.a.createElement(y.a,{exact:!0,path:"/login",component:D}),r.a.createElement(y.a,{exact:!0,path:"/logout",component:z}),r.a.createElement(y.a,{exact:!0,path:"/join",component:J}),r.a.createElement(y.a,{path:"/article/:slug",component:X}),r.a.createElement(y.a,{exact:!0,path:"/form",component:G(M)}),r.a.createElement(y.a,{path:"/form/:slug",component:G(M)}),r.a.createElement(y.a,{path:"/@:username",component:B}),r.a.createElement(y.a,{component:F})))}}]),t}(a.Component),V=Object(k.a)(Object(i.b)(function(e){return{user:e.auth.user}},function(e){return{authActions:Object(s.b)(f,e)}})(H)),W=Object(l.a)({basename:"/world"});c.a.render(r.a.createElement(i.a,{store:g},r.a.createElement(u.a,{history:W},r.a.createElement(V,null))),document.getElementById("root"))},28:function(e,t,n){"use strict";n.r(t),n.d(t,"init",function(){return o}),n.d(t,"login",function(){return c}),n.d(t,"logout",function(){return u}),n.d(t,"register",function(){return l});var a=n(65),r=n(14),o=function(){return{type:"LOGIN",payload:r.a.Auth.current()}},c=function(e,t){return{type:"LOGIN",payload:r.a.Auth.login(e,t)}},u=function(){return{type:"LOGOUT"}},l=function(e,t,n){return{type:"REGISTER",payload:r.a.Auth.register(e,t,n)}},i={user:localStorage.getItem("jwt")||null,userInfo:{},loading:!1,error:[]};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return Object(a.a)(e,function(n){switch(t.type){case"LOGIN_PENDING":case"REGISTER_PENDING":return void(n.loading=!0);case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":var a=t.payload.data.user.token;return r.a.setToken(a),n.user=a,n.userInfo=t.payload.data.user,n.loading=!1,void(n.error=[]);case"LOGIN_FAILURE":case"REGISTER_FAILURE":var o=t.payload.response.data.errors,c=Object.keys(o).map(function(e){return"".concat(e," ").concat(o[e].join(", "))});return n.loading=!1,void(n.error=c);case"LOGOUT":return r.a.setToken(null),n.user=null,void(n.userInfo={});default:return e}})}},96:function(e,t,n){"use strict";t.a=function(e){return e.history.push({pathname:"/login",state:{prevLocation:e.location.pathname,loginMsg:"\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4"}}),null}}},[[105,11,8]]]);