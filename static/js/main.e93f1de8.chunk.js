(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(e,t,n){e.exports=n(68)},68:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"login",function(){return y}),n.d(a,"logout",function(){return w}),n.d(a,"register",function(){return A}),n.d(a,"resetAuth",function(){return S}),n.d(a,"default",function(){return C});var r=n(0),l=n.n(r),c=n(31),u=n.n(c),o=n(70),i=n(7),s=n(11),m=n(34),p=n(15),d=n.n(p),h="https://conduit.productionready.io/api",f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(window.localStorage.setItem("jwt",e),d.a.defaults.headers.common.Authorization="Token ".concat(e)):(window.localStorage.removeItem("jwt"),delete d.a.defaults.headers.common.Authorization)},E=localStorage.getItem("jwt");E&&f(E);var b=function(e){return d.a.del("".concat(h).concat(e))},g=function(e){return d.a.get("".concat(h).concat(e))},v=function(e,t){return d.a.put("".concat(h).concat(e),t)},O=function(e,t){return d.a.post("".concat(h).concat(e),t)},j={setToken:f,Auth:{current:function(){return g("/user")},login:function(e,t){return O("/users/login",{user:{email:e,password:t}})},register:function(e,t,n){return O("/users",{user:{username:e,email:t,password:n}})},save:function(e){return v("/user",{user:e})}},Articles:{all:function(e){return g("/articles?".concat(function(e,t){return"limit=".concat(e,"&offset=").concat(t?t*e:0)}(10,e)))},create:function(e){return O("/articles",{article:e})},get:function(e){return g("/articles/".concat(e))}},Profile:{follow:function(e){return O("/profiles/".concat(e,"/follow"))},get:function(e){return g("/profiles/".concat(e))},unfollow:function(e){return b("/profiles/".concat(e,"/follow"))}}},y=function(e,t){return{type:"LOGIN",payload:j.Auth.login(e,t)}},w=function(){return{type:"LOGOUT"}},A=function(e,t,n){return{type:"REGISTER",payload:j.Auth.register(e,t,n)}},S=function(){return{type:"RESET_AUTH"}},I={user:localStorage.getItem("jwt")||null,loading:!1,error:[]},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;return Object(m.a)(e,function(n){switch(t.type){case"LOGIN_PENDING":case"REGISTER_PENDING":return void(n.loading=!0);case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":var a=t.payload.data.user.token;return j.setToken(a),n.user=a,n.loading=!1,void(n.error=[]);case"LOGIN_FAILURE":case"REGISTER_FAILURE":var r=t.payload.response.data.errors,l=Object.keys(r).map(function(e){return"".concat(e," ").concat(r[e].join(", "))});return n.loading=!1,void(n.error=l);case"LOGOUT":return j.setToken(null),void(n.user=!1);case"RESET_AUTH":return n.loading=!1,void(n.error=[]);default:return e}})},k=Object(s.c)({auth:C}),N=n(35),T=n(36),x=Object(T.a)({promiseTypeSuffixes:["PENDING","SUCCESS","FAILURE"]}),L=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,_=Object(s.e)(k,L(Object(s.a)(N.a,x))),R=n(4),G=n(5),U=n(8),F=n(6),D=n(9),H=n(72),P=n(73),B=n(69),M=function(e){function t(){return Object(R.a)(this,t),Object(U.a)(this,Object(F.a)(t).apply(this,arguments))}return Object(D.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.props.user;return l.a.createElement("header",null,l.a.createElement("h1",null,"World"),l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(B.a,{to:"/"},"Home")),e?l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement(B.a,{to:"/form"},"\uae00\ub4f1\ub85d")),l.a.createElement("li",null,l.a.createElement(B.a,{to:"/Logout"},"\ub85c\uadf8\uc544\uc6c3"))):l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement(B.a,{to:"/login"},"\ub85c\uadf8\uc778")),l.a.createElement("li",null,l.a.createElement(B.a,{to:"/join"},"\ud68c\uc6d0\uac00\uc785")))))}}]),t}(r.Component),W=Object(i.b)(function(e){return{user:e.auth.user}},function(e){return{}})(M),z=n(17),J=n.n(z),V=n(18),X=function(e){function t(){var e,n;Object(R.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(U.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).state={articlesCount:0,articles:[]},n.fetchArticles=Object(V.a)(J.a.mark(function e(){var t,a,r,l;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.Articles.all();case 2:t=e.sent,a=t.data,r=a.articlesCount,l=a.articles,n.setState(function(){return{articlesCount:r,articles:l}});case 6:case"end":return e.stop()}},e,this)})),n}return Object(D.a)(t,e),Object(G.a)(t,[{key:"componentDidMount",value:function(){this.fetchArticles()}},{key:"render",value:function(){var e=this.state,t=e.articlesCount,n=e.articles;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"Home"),l.a.createElement("p",null,"total : ",t),l.a.createElement("ul",null,n.map(function(e){return l.a.createElement("li",{key:e.slug},l.a.createElement("p",{className:"title"},l.a.createElement(B.a,{to:"/article/".concat(e.slug)},"\uc81c\ubaa9 : ",e.title)),l.a.createElement("p",{className:"desc"},e.description),l.a.createElement("div",{className:"info"},l.a.createElement("span",{className:"author"},"\uc791\uc131\uc790: ",e.author.username)," ",l.a.createElement("span",{className:"date"},"\uc791\uc131\uc77c: ",e.createdAt)," ",l.a.createElement("span",{className:"tag"},"Tag: ",e.tagList.join(", "))))})))}}]),t}(r.Component),q=Object(i.b)(function(e){return{}},function(e){return{}})(X),K=n(16),Q=n(71),Y=function(e){function t(){var e,n;Object(R.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(U.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:""},n.submitHandle=function(e){var t=n.props.authActions,a=n.state,r=a.email,l=a.password;t.login(r,l),e.preventDefault()},n.changeInput=function(e){return function(t){var a=t.target.value;n.setState(function(){return Object(K.a)({},e,a)})}},n}return Object(D.a)(t,e),Object(G.a)(t,[{key:"componentWillUnmount",value:function(){this.props.authActions.resetAuth()}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.loading,a=e.error;return t?l.a.createElement(Q.a,{to:"/"}):l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"\ub85c\uadf8\uc778"),l.a.createElement("form",{onSubmit:this.submitHandle},l.a.createElement("fieldset",null,l.a.createElement("div",null,l.a.createElement("label",null,"email",l.a.createElement("input",{type:"email",disabled:n,onChange:this.changeInput("email")}))),l.a.createElement("div",null,l.a.createElement("label",null,"password",l.a.createElement("input",{type:"password",disabled:n,onChange:this.changeInput("password")}))),n&&l.a.createElement("div",null,"\ub85c\uadf8\uc778 \uc911..."),a.length>0&&a.map(function(e){return l.a.createElement("div",{key:e},e)}),l.a.createElement("button",{type:"submit",disabled:n},"\ub85c\uadf8\uc778"))))}}]),t}(r.Component),Z=Object(i.b)(function(e){return{user:e.auth.user,loading:e.auth.loading,error:e.auth.error}},function(e){return{authActions:Object(s.b)(a,e)}})(Y),$=function(e){function t(e){var n;return Object(R.a)(this,t),n=Object(U.a)(this,Object(F.a)(t).call(this,e)),e.authActions.logout(),n}return Object(D.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){return l.a.createElement(Q.a,{to:"/"})}}]),t}(r.Component),ee=Object(i.b)(function(e){return{}},function(e){return{authActions:Object(s.b)(a,e)}})($),te=function(e){function t(){var e,n;Object(R.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(U.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",email:"",password:""},n.submitHandle=function(e){var t=n.props.authActions,a=n.state,r=a.username,l=a.email,c=a.password;t.register(r,l,c),e.preventDefault()},n.changeInput=function(e){return function(t){var a=t.target.value;n.setState(function(){return Object(K.a)({},e,a)})}},n}return Object(D.a)(t,e),Object(G.a)(t,[{key:"componentWillUnmount",value:function(){this.props.authActions.resetAuth()}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.loading,a=e.error,r=e.history,c=this.state,u=c.username,o=c.email,i=c.password;return t?l.a.createElement(Q.a,{to:"/"}):l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"\ud68c\uc6d0\uac00\uc785"),l.a.createElement("form",{onSubmit:this.submitHandle},l.a.createElement("fieldset",null,l.a.createElement("div",null,l.a.createElement("label",null,"username",l.a.createElement("input",{type:"text",disabled:n,value:u,onChange:this.changeInput("username")}))),l.a.createElement("div",null,l.a.createElement("label",null,"email",l.a.createElement("input",{type:"email",disabled:n,value:o,onChange:this.changeInput("email")}))),l.a.createElement("div",null,l.a.createElement("label",null,"password",l.a.createElement("input",{type:"password",disabled:n,value:i,onChange:this.changeInput("password")}))),n&&l.a.createElement("div",null,"\ud68c\uc6d0\uac00\uc785 \uc911..."),a.length>0&&a.map(function(e){return l.a.createElement("div",{key:e},e)}),l.a.createElement("button",{type:"submit",disabled:n},"\ud68c\uc6d0\uac00\uc785")," ",l.a.createElement("button",{type:"button",disabled:n,onClick:r.goBack},"\ucde8\uc18c"))))}}]),t}(r.Component),ne=Object(i.b)(function(e){return{user:e.auth.user,loading:e.auth.loading,error:e.auth.error}},function(e){return{authActions:Object(s.b)(a,e)}})(te),ae=function(e){function t(){var e,n;Object(R.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(U.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,title:"",description:"",body:"",tag:""},n.submitHandle=function(e){var t=n.state,a=t.title,r=t.description,l=t.body,c=t.tag,u=c.length?c.split(",").map(function(e){return e.trim()}):[];n.setState(function(){return{loading:!0}}),j.Articles.create({title:a,description:r,body:l,tagList:u}).then(function(e){n.setState(function(){return{loading:!1}})}),e.preventDefault()},n.changeInput=function(e){return function(t){var a=t.target.value;n.setState(function(){return Object(K.a)({},e,a)})}},n}return Object(D.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.history,a=this.state,r=a.loading,c=a.title,u=a.description,o=a.body,i=a.tag;return t||alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4"),t?l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"\uae00 \ub4f1\ub85d\ud558\uae30"),l.a.createElement("form",{onSubmit:this.submitHandle},l.a.createElement("fieldset",null,l.a.createElement("div",null,l.a.createElement("label",null,"\uc81c\ubaa9",l.a.createElement("input",{type:"text",disabled:r,value:c,onChange:this.changeInput("title")}))),l.a.createElement("div",null,l.a.createElement("label",null,"\uc124\uba85",l.a.createElement("input",{type:"text",disabled:r,value:u,onChange:this.changeInput("description")}))),l.a.createElement("div",null,l.a.createElement("label",null,"\uc124\uba85",l.a.createElement("textarea",{cols:"60",rows:"10",disabled:r,defaultValue:o,onChange:this.changeInput("body")}))),l.a.createElement("div",null,l.a.createElement("label",null,"\ud0dc\uadf8",l.a.createElement("input",{type:"text",disabled:r,value:i,onChange:this.changeInput("tag")}))),r&&l.a.createElement("div",null,"\ub4f1\ub85d \uc911..."),l.a.createElement("button",{type:"submit",disabled:r},"\ub4f1\ub85d")," ",l.a.createElement("button",{type:"button",disabled:r,onClick:n.goBack},"\ucde8\uc18c")))):l.a.createElement(Q.a,{to:"/"})}}]),t}(r.Component),re=Object(i.b)(function(e){return{user:e.auth.user}},function(e){return{}})(ae),le=function(e){function t(){var e,n;Object(R.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(U.a)(this,(e=Object(F.a)(t)).call.apply(e,[this].concat(r)))).state={article:{author:{},tagList:[]}},n.fetchArticles=Object(V.a)(J.a.mark(function e(){var t,a;return J.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.Articles.get(n.props.match.params.slug);case 2:t=e.sent,a=t.data,n.setState(function(){return{article:a.article}});case 5:case"end":return e.stop()}},e,this)})),n}return Object(D.a)(t,e),Object(G.a)(t,[{key:"componentDidMount",value:function(){this.fetchArticles()}},{key:"render",value:function(){var e=this.state.article;return l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,e.title),l.a.createElement("p",{className:"desc"},e.description),l.a.createElement("div",{className:"info"},l.a.createElement("span",{className:"author"},"\uc791\uc131\uc790: ",e.author.username)," ",l.a.createElement("span",{className:"date"},"\uc791\uc131\uc77c: ",e.createdAt)," ",l.a.createElement("span",{className:"tag"},"Tag: ",e.tagList.join(", "))),l.a.createElement("div",{className:"body"},e.body))}}]),t}(r.Component),ce=Object(i.b)(function(e){return{}},function(e){return{}})(le),ue=function(e){function t(){return Object(R.a)(this,t),Object(U.a)(this,Object(F.a)(t).apply(this,arguments))}return Object(D.a)(t,e),Object(G.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(W,null),l.a.createElement(H.a,null,l.a.createElement(P.a,{exact:!0,path:"/",component:q}),l.a.createElement(P.a,{exact:!0,path:"/login",component:Z}),l.a.createElement(P.a,{exact:!0,path:"/logout",component:ee}),l.a.createElement(P.a,{exact:!0,path:"/join",component:ne}),l.a.createElement(P.a,{exact:!0,path:"/form",component:re}),l.a.createElement(P.a,{path:"/article/:slug",component:ce})))}}]),t}(r.Component);u.a.render(l.a.createElement(i.a,{store:_},l.a.createElement(o.a,{basename:"/world"},l.a.createElement(ue,null))),document.getElementById("root"))}},[[37,2,1]]]);
//# sourceMappingURL=main.e93f1de8.chunk.js.map