(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{466:function(e,t,a){"use strict";a.r(t);var n=a(49),l=a(50),r=a(52),i=a(51),s=a(53),u=a(0),c=a.n(u),m=a(17),o=a(36),p=a(23),b=a(54),d=a(376),h=a.n(d),E=function(e){function t(){var e,a;Object(n.a)(this,t);for(var l=arguments.length,s=new Array(l),u=0;u<l;u++)s[u]=arguments[u];return(a=Object(r.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(s)))).state={image:"",username:"",bio:"",email:"",password:"",errors:{}},a.submitHandle=function(e){var t=a.props.authActions,n=a.state,l=n.image,r=n.username,i=n.bio,s=n.email,u=n.password;if(a.setState(Object(p.a)(function(e){e.errors={}})),a.validate()){var c={image:l,username:r,bio:i,email:s};""!==u&&(c.password=u),t.update({user:c}).then(function(e){a.props.history.goBack()})}e.preventDefault()},a.changeInput=function(e){return function(t){var n=t.target.value;a.setState(Object(p.a)(function(t){t[e]=n}))}},a}return Object(s.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.userInfo;Object.keys(e).length&&this.setState(Object(p.a)(function(t){t.image=e.image,t.username=e.username,t.bio=e.bio,t.email=e.email}))}},{key:"componentWillUnmount",value:function(){this.props.authActions.resetAuth()}},{key:"validate",value:function(){var e={},t=this.state,a=t.username,n=t.email,l=t.password;return h.a.isEmpty(a)?e.username="\uc0ac\uc6a9\uc790 \uc774\ub984\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694":h.a.isLength(a,{min:1,max:20})||(e.username="\uc0ac\uc6a9\uc790 \uc774\ub984\uc740 1\uc790 \uc774\uc0c1 20\uc790 \uc774\ud558\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694"),h.a.isEmpty(n)?e.email="\uc774\uba54\uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694":h.a.isEmail(n)||(e.email="\uc774\uba54\uc77c \ud615\uc2dd\uc774 \ub9de\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4"),h.a.isEmpty(l)||h.a.isLength(l,{min:8})||(e.password="\ube44\ubc00\ubc88\ud638\ub294 8\uc790 \uc774\uc0c1\uc73c\ub85c \uc785\ub825\ud574\uc8fc\uc138\uc694"),0===Object.keys(e).length||(this.setState(Object(p.a)(function(t){t.errors=e})),!1)}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.history,n=e.error,l=this.state,r=l.image,i=l.username,s=l.bio,u=l.email,m=l.password,o=l.errors;return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"container"},c.a.createElement("h2",null,"\ud504\ub85c\ud544 \uc218\uc815"),c.a.createElement("form",{onSubmit:this.submitHandle},c.a.createElement("fieldset",null,c.a.createElement("div",null,c.a.createElement("label",null,"\ud504\ub85c\ud544 \uc774\ubbf8\uc9c0",c.a.createElement("br",null),c.a.createElement("input",{type:"text",className:"txt",disabled:t,value:r,onChange:this.changeInput("image")})),o.image&&c.a.createElement("div",null,o.image)),c.a.createElement("div",null,c.a.createElement("label",null,"\uc0ac\uc6a9\uc790 \uc774\ub984",c.a.createElement("br",null),c.a.createElement("input",{type:"text",className:"txt",disabled:t,value:i,onChange:this.changeInput("username")})),o.username&&c.a.createElement("div",null,o.username)),c.a.createElement("div",null,c.a.createElement("label",null,"\uc18c\uac1c",c.a.createElement("br",null),c.a.createElement("textarea",{cols:"60",rows:"10",className:"txt",disabled:t,value:s,onChange:this.changeInput("bio")})),o.bio&&c.a.createElement("div",null,o.bio)),c.a.createElement("div",null,c.a.createElement("label",null,"\uc774\uba54\uc77c",c.a.createElement("br",null),c.a.createElement("input",{type:"text",className:"txt",disabled:t,value:u,onChange:this.changeInput("email")})),o.email&&c.a.createElement("div",null,o.email)),c.a.createElement("div",null,c.a.createElement("label",null,"\uc0c8 \ube44\ubc00\ubc88\ud638",c.a.createElement("br",null),c.a.createElement("input",{type:"password",className:"txt",disabled:t,value:m,onChange:this.changeInput("password")})),o.password&&c.a.createElement("div",null,o.password)),t&&c.a.createElement("div",null,"\uc800\uc7a5\ud558\ub294 \uc911..."),n.length>0&&n.map(function(e){return c.a.createElement("div",{key:e},e)}),c.a.createElement("button",{type:"submit",className:"btn primary",disabled:t},"\uc218\uc815")," ",c.a.createElement("button",{type:"button",className:"btn",disabled:t,onClick:a.goBack},"\ucde8\uc18c")))))}}]),t}(u.Component);t.default=Object(o.b)(function(e){return{user:e.auth.user,userInfo:e.auth.userInfo,loading:e.auth.loading,error:e.auth.error}},function(e){return{authActions:Object(m.b)(b,e)}})(E)}}]);