(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{160:function(e,n,t){e.exports=t(353)},34:function(e,n,t){"use strict";var r=t(37),a=t.n(r),o=t(48),c=t.n(o),u=a.a.CancelToken,l="https://conduit.productionready.io/api",i=function(e,n){return a.a.delete("".concat(l).concat(e),n?{cancelToken:n.token}:{})},s=function(e,n){return a.a.get("".concat(l).concat(e),n?{cancelToken:n.token}:{})},d=function(e,n,t){return a.a.put("".concat(l).concat(e),n,t?{cancelToken:t.token}:{})},f=function(e,n,t){return a.a.post("".concat(l).concat(e),n,t?{cancelToken:t.token}:{})},m={current:function(){return s("/user")},login:function(e){var n=e.email,t=e.password,r=e.source;return f("/users/login",{user:{email:n,password:t}},r)},register:function(e){var n=e.username,t=e.email,r=e.password,a=e.source;return f("/users",{user:{username:n,email:t,password:r}},a)},save:function(e){var n=e.user,t=e.source;return d("/user",{user:n},t)}},p=function(e,n){return"limit=".concat(e,"&offset=").concat(n?n*e:0)},h={all:function(e){var n=e.page,t=e.source;return s("/articles?".concat(p(10,n)),t)},byAuthor:function(e){var n=e.author,t=e.page,r=e.source;return s("/articles?author=".concat(encodeURIComponent(n),"&").concat(p(5,t)),r)},create:function(e){var n=e.article,t=e.source;return f("/articles",{article:n},t)},update:function(e){var n=e.article,t=e.source;return d("/articles/".concat(n.slug),{article:n},t)},delete:function(e){var n=e.slug,t=e.source;return i("/articles/".concat(n),t)},get:function(e){var n=e.slug,t=e.source;return s("/articles/".concat(n),t)}},E={follow:function(e){var n=e.username,t=e.source;return f("/profiles/".concat(n,"/follow"),t)},get:function(e){var n=e.username,t=e.source;return s("/profiles/".concat(n),t)},unfollow:function(e){var n=e.username,t=e.source;return i("/profiles/".concat(n,"/follow"),t)}};n.a={CancelToken:u,setToken:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e?(c.a.set("jwt",e),a.a.defaults.headers.common.Authorization="Token ".concat(e)):(c.a.remove("jwt",e),delete a.a.defaults.headers.common.Authorization)},Auth:m,Articles:h,Profile:E}},353:function(e,n,t){"use strict";t.r(n);t(161);var r=t(1),a=t.n(r),o=t(76),c=t.n(o),u=t(383),l=t(75),i=t(33),s=t(21),d=t(61),f=Object(s.c)({auth:d.default}),m=t(154),p=t(159),h=Object(p.a)({promiseTypeSuffixes:["PENDING","SUCCESS","FAILURE"]}),E=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,g=Object(s.e)(f,E(Object(s.a)(m.a,h))),b=t(50),v=t(51),O=t(53),j=t(49),w=t(52),y=t(382),T=t(374),I=t(384),k=t(34),S=t(48),A=t.n(S),R=function(e){return e.history.push({pathname:"/login",state:{prevLocation:e.location.pathname,loginMsg:"\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4"}}),null},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=function(n){function t(e){var n;return Object(b.a)(this,t),n=Object(O.a)(this,Object(j.a)(t).call(this,e)),e.user||R(e),n}return Object(w.a)(t,n),Object(v.a)(t,[{key:"render",value:function(){return a.a.createElement(e,this.props)}}]),t}(r.Component);return Object(i.b)(function(e){return{user:e.auth.user,userInfo:e.auth.userInfo}},function(e){return{authActions:Object(s.b)(d,e)}})(n)},G=t(373),L=t(111);function C(){var e=Object(L.a)(["\n  ul {\n    display: flex;\n    padding: 0;\n  }\n\n  li {\n    list-style: none;\n    margin-right: 30px;\n  }\n"]);return C=function(){return e},e}var N=t(112).a.header(C()),U=function(e){function n(){return Object(b.a)(this,n),Object(O.a)(this,Object(j.a)(n).apply(this,arguments))}return Object(w.a)(n,e),Object(v.a)(n,[{key:"render",value:function(){var e=this.props.user;return a.a.createElement(N,null,a.a.createElement("h1",null,"World"),a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(G.a,{to:"/"},"Home")),e?a.a.createElement(a.a.Fragment,null,a.a.createElement("li",null,a.a.createElement(G.a,{to:"/form"},"\uae00\ub4f1\ub85d")),a.a.createElement("li",null,a.a.createElement(G.a,{to:"/Logout"},"\ub85c\uadf8\uc544\uc6c3"))):a.a.createElement(a.a.Fragment,null,a.a.createElement("li",null,a.a.createElement(G.a,{to:"/login"},"\ub85c\uadf8\uc778")),a.a.createElement("li",null,a.a.createElement(G.a,{to:"/join"},"\ud68c\uc6d0\uac00\uc785")))))}}]),n}(r.Component),x=Object(i.b)(function(e){return{user:e.auth.user}},function(e){return{}})(U),P=t(38),F=t.n(P),D=function(){return a.a.createElement("div",null,"Loading...")},H=F()({loader:function(){return Promise.all([t.e(0),t.e(2)]).then(t.bind(null,375))},loading:D}),z=F()({loader:function(){return t.e(3).then(t.bind(null,376))},loading:D}),J=F()({loader:function(){return t.e(4).then(t.bind(null,377))},loading:D}),M=F()({loader:function(){return t.e(5).then(t.bind(null,378))},loading:D}),X=F()({loader:function(){return t.e(6).then(t.bind(null,379))},loading:D}),B=F()({loader:function(){return Promise.all([t.e(10),t.e(7)]).then(t.bind(null,380))},loading:D}),V=F()({loader:function(){return Promise.all([t.e(0),t.e(8)]).then(t.bind(null,381))},loading:D}),W=function(e){function n(e){var t;Object(b.a)(this,n),t=Object(O.a)(this,Object(j.a)(n).call(this,e));var r=A.a.get("jwt");return r&&(k.a.setToken(r),e.authActions.init()),t}return Object(w.a)(n,e),Object(v.a)(n,[{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(x,null),a.a.createElement("hr",null),a.a.createElement(y.a,null,a.a.createElement(T.a,{exact:!0,path:"/",component:H}),a.a.createElement(T.a,{path:"/articles/:page",component:H}),a.a.createElement(T.a,{exact:!0,path:"/login",component:z}),a.a.createElement(T.a,{exact:!0,path:"/logout",component:J}),a.a.createElement(T.a,{exact:!0,path:"/join",component:M}),a.a.createElement(T.a,{path:"/article/:slug",component:B}),a.a.createElement(T.a,{exact:!0,path:"/form",component:_(X)}),a.a.createElement(T.a,{path:"/form/:slug",component:_(X)}),a.a.createElement(T.a,{path:"/@:username/:page?",component:V}),a.a.createElement(T.a,{component:H})))}}]),n}(r.Component),q=Object(I.a)(Object(i.b)(function(e){return{user:e.auth.user}},function(e){return{authActions:Object(s.b)(d,e)}})(W)),K=Object(l.a)({basename:"/world"});c.a.render(a.a.createElement(i.a,{store:g},a.a.createElement(u.a,{history:K},a.a.createElement(q,null))),document.getElementById("root"))},61:function(e,n,t){"use strict";t.r(n),t.d(n,"init",function(){return c}),t.d(n,"login",function(){return u}),t.d(n,"logout",function(){return l}),t.d(n,"register",function(){return i}),t.d(n,"resetAuth",function(){return s});var r=t(110),a=t(34),o=t(48),c=function(){return{type:"LOGIN",payload:a.a.Auth.current()}},u=function(e){var n=e.email,t=e.password;return{type:"LOGIN",payload:a.a.Auth.login({email:n,password:t})}},l=function(){return{type:"LOGOUT"}},i=function(e){var n=e.username,t=e.email,r=e.password;return{type:"REGISTER",payload:a.a.Auth.register({username:n,email:t,password:r})}},s=function(){return{type:"RESET_AUTH"}},d={user:t.n(o).a.get("jwt")||null,userInfo:{},loading:!1,error:[]};n.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,n=arguments.length>1?arguments[1]:void 0;return Object(r.a)(e,function(t){switch(n.type){case"LOGIN_PENDING":case"REGISTER_PENDING":return void(t.loading=!0);case"LOGIN_SUCCESS":case"REGISTER_SUCCESS":var r=n.payload.data.user.token;return a.a.setToken(r),t.user=r,t.userInfo=n.payload.data.user,t.loading=!1,void(t.error=[]);case"LOGIN_FAILURE":case"REGISTER_FAILURE":var o=n.payload.response.data.errors,c=Object.keys(o).map(function(e){return"".concat(e," ").concat(o[e].join(", "))});return t.loading=!1,void(t.error=c);case"LOGOUT":return a.a.setToken(null),t.user=null,void(t.userInfo={});case"RESET_AUTH":return t.loading=!1,void(t.error=[]);default:return e}})}}},[[160,11,9]]]);